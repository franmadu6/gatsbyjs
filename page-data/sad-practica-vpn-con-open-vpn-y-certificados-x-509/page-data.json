{"componentChunkName":"component---src-templates-post-js","path":"/sad-practica-vpn-con-open-vpn-y-certificados-x-509","result":{"data":{"markdownRemark":{"html":"<h2 id=\"tarea-1-vpn-de-acceso-remoto-con-openvpn-y-certificados-x509permalink\"><a href=\"#tarea-1-vpn-de-acceso-remoto-con-openvpn-y-certificados-x509permalink\" aria-label=\"tarea 1 vpn de acceso remoto con openvpn y certificados x509permalink permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 1: VPN de acceso remoto con OpenVPN y certificados x509Permalink</h2>\n<h3 id=\"para-esta-tarea-puedes-usar-el-fichero-heat-del-primer-ejercicio-en-esta-tarea-vas-a-realizar-el-segundo-ejercicio-del-tema\"><a href=\"#para-esta-tarea-puedes-usar-el-fichero-heat-del-primer-ejercicio-en-esta-tarea-vas-a-realizar-el-segundo-ejercicio-del-tema\" aria-label=\"para esta tarea puedes usar el fichero heat del primer ejercicio en esta tarea vas a realizar el segundo ejercicio del tema permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Para esta tarea puedes usar el fichero heat del primer ejercicio. En esta tarea vas a realizar el segundo ejercicio del tema:</h3>\n<h3 id=\"configura-una-conexión-vpn-de-acceso-remoto-entre-dos-equipos\"><a href=\"#configura-una-conexi%C3%B3n-vpn-de-acceso-remoto-entre-dos-equipos\" aria-label=\"configura una conexión vpn de acceso remoto entre dos equipos permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configura una conexión VPN de acceso remoto entre dos equipos:</h3>\n<ul>\n<li>\n<h3 id=\"uno-de-los-dos-equipos-el-que-actuará-como-servidor-estará-conectado-a-dos-redes\"><a href=\"#uno-de-los-dos-equipos-el-que-actuar%C3%A1-como-servidor-estar%C3%A1-conectado-a-dos-redes\" aria-label=\"uno de los dos equipos el que actuará como servidor estará conectado a dos redes permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Uno de los dos equipos (el que actuará como servidor) estará conectado a dos redes</h3>\n</li>\n<li>\n<h3 id=\"para-la-autenticación-de-los-extremos-se-usarán-obligatoriamente-certificados-digitales-que-se-generarán-utilizando-openssl-y-se-almacenarán-en-el-directorio-etcopenvpn-junto-con-los-parámetros-diffie-helman-y-el-certificado-de-la-propia-autoridad-de-certificación\"><a href=\"#para-la-autenticaci%C3%B3n-de-los-extremos-se-usar%C3%A1n-obligatoriamente-certificados-digitales-que-se-generar%C3%A1n-utilizando-openssl-y-se-almacenar%C3%A1n-en-el-directorio-etcopenvpn-junto-con-los-par%C3%A1metros-diffie-helman-y-el-certificado-de-la-propia-autoridad-de-certificaci%C3%B3n\" aria-label=\"para la autenticación de los extremos se usarán obligatoriamente certificados digitales que se generarán utilizando openssl y se almacenarán en el directorio etcopenvpn junto con los parámetros diffie helman y el certificado de la propia autoridad de certificación permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Para la autenticación de los extremos se usarán obligatoriamente certificados digitales, que se generarán utilizando openssl y se almacenarán en el directorio /etc/openvpn, junto con los parámetros Diffie-Helman y el certificado de la propia Autoridad de Certificación.</h3>\n</li>\n<li>\n<h3 id=\"se-utilizarán-direcciones-de-la-red-109999024-para-las-direcciones-virtuales-de-la-vpn-la-dirección-1099991-se-asignará-al-servidor-vpn\"><a href=\"#se-utilizar%C3%A1n-direcciones-de-la-red-109999024-para-las-direcciones-virtuales-de-la-vpn-la-direcci%C3%B3n-1099991-se-asignar%C3%A1-al-servidor-vpn\" aria-label=\"se utilizarán direcciones de la red 109999024 para las direcciones virtuales de la vpn la dirección 1099991 se asignará al servidor vpn permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Se utilizarán direcciones de la red 10.99.99.0/24 para las direcciones virtuales de la VPN. La dirección 10.99.99.1 se asignará al servidor VPN.</h3>\n</li>\n<li>\n<h3 id=\"los-ficheros-de-configuración-del-servidor-y-del-cliente-se-crearán-en-el-directorio-etcopenvpn-de-cada-máquina-y-se-llamarán-servidorconf-y-clienteconf-respectivamente-la-configuración-establecida-debe-cumplir-los-siguientes-aspectos\"><a href=\"#los-ficheros-de-configuraci%C3%B3n-del-servidor-y-del-cliente-se-crear%C3%A1n-en-el-directorio-etcopenvpn-de-cada-m%C3%A1quina-y-se-llamar%C3%A1n-servidorconf-y-clienteconf-respectivamente-la-configuraci%C3%B3n-establecida-debe-cumplir-los-siguientes-aspectos\" aria-label=\"los ficheros de configuración del servidor y del cliente se crearán en el directorio etcopenvpn de cada máquina y se llamarán servidorconf y clienteconf respectivamente la configuración establecida debe cumplir los siguientes aspectos permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Los ficheros de configuración del servidor y del cliente se crearán en el directorio /etc/openvpn de cada máquina, y se llamarán servidor.conf y cliente.conf respectivamente. La configuración establecida debe cumplir los siguientes aspectos:</h3>\n<ul>\n<li><strong>El demonio openvpn se manejará con systemctl.</strong></li>\n<li><strong>Se debe configurar para que la comunicación esté comprimida.</strong></li>\n<li><strong>La asignación de direcciones IP será dinámica.</strong></li>\n<li><strong>Existirá un fichero de log en el equipo.</strong></li>\n<li><strong>Se mandarán a los clientes las rutas necesarias.</strong></li>\n</ul>\n</li>\n<li>\n<h3 id=\"tras-el-establecimiento-de-la-vpn-la-máquina-cliente-debe-ser-capaz-de-acceder-a-una-máquina-que-esté-en-la-otra-red-a-la-que-está-conectado-el-servidor\"><a href=\"#tras-el-establecimiento-de-la-vpn-la-m%C3%A1quina-cliente-debe-ser-capaz-de-acceder-a-una-m%C3%A1quina-que-est%C3%A9-en-la-otra-red-a-la-que-est%C3%A1-conectado-el-servidor\" aria-label=\"tras el establecimiento de la vpn la máquina cliente debe ser capaz de acceder a una máquina que esté en la otra red a la que está conectado el servidor permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tras el establecimiento de la VPN, la máquina cliente debe ser capaz de acceder a una máquina que esté en la otra red a la que está conectado el servidor.</h3>\n</li>\n<li>\n<h3 id=\"instala-el-complemento-de-vpn-en-networkmanager-y-configura-el-cliente-de-forma-gráfica-desde-este-complemento\"><a href=\"#instala-el-complemento-de-vpn-en-networkmanager-y-configura-el-cliente-de-forma-gr%C3%A1fica-desde-este-complemento\" aria-label=\"instala el complemento de vpn en networkmanager y configura el cliente de forma gráfica desde este complemento permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Instala el complemento de VPN en networkmanager y configura el cliente de forma gráfica desde este complemento.</h3>\n</li>\n</ul>\n<hr>\n<ul>\n<li>Escenario utilizado ➜ <a href=\"/gatsbyjs/25f24ba8e9dcb63773b52f10cc1a4f85/vagrantfilevpn.txt\">Vagrantfile</a></li>\n</ul>\n<p>Prepararemos el entorno instalando openvpn/easy-rsa, en nuestras maquinas previamentes ya tendremos instalado openvpn y git(si has usado el Vagrantfile de esta practica ya los tendras incorporados).</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/home/vagrant<span class=\"token comment\"># git clone https://github.com/OpenVPN/easy-rsa</span></code></pre></div>\n<p>Copiaremos el directorio /easyrsa3/vars.example en /easyrsa3/vars y modificaremos lo siguiente:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/home/vagrant<span class=\"token comment\"># cp easy-rsa/easyrsa3/vars.example easy-rsa/easyrsa3/vars</span>\nroot@servidor:/home/vagrant<span class=\"token comment\"># nano easy-rsa/easyrsa3/vars</span>\nset_var EASYRSA_REQ_COUNTRY     <span class=\"token string\">\"ES\"</span>\nset_var EASYRSA_REQ_PROVINCE    <span class=\"token string\">\"Sevilla\"</span>\nset_var EASYRSA_REQ_CITY        <span class=\"token string\">\"Dos Hermanas\"</span> \nset_var EASYRSA_REQ_ORG         <span class=\"token string\">\"iesgn.org\"</span>\nset_var EASYRSA_REQ_EMAIL       <span class=\"token string\">\"frandh1997@gmail.com\"</span>\nset_var EASYRSA_REQ_OU          <span class=\"token string\">\"iesgn.org\"</span></code></pre></div>\n<p>Utilizaremos el script de easyrsa para generar el directorio /pki/ que será donde se almacenarán las claves y certificados.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/home/vagrant/easy-rsa/easyrsa3<span class=\"token comment\"># chmod 700 ./easyrsa</span>\nroot@servidor:/home/vagrant/easy-rsa/easyrsa3<span class=\"token comment\"># ./easyrsa init-pki</span>\n\nNote: using Easy-RSA configuration from: /home/vagrant/easy-rsa/easyrsa3/vars\n\ninit-pki complete<span class=\"token punctuation\">;</span> you may now create a CA or requests.\nYour newly created PKI <span class=\"token function\">dir</span> is: /home/vagrant/easy-rsa/easyrsa3/pki</code></pre></div>\n<p>Comenzaremos creando las <strong>Credenciales CA</strong> utilizando el parámetro build-ca.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/home/vagrant/easy-rsa/easyrsa3<span class=\"token comment\"># ./easyrsa build-ca</span>\n\nNote: using Easy-RSA configuration from: /home/vagrant/easy-rsa/easyrsa3/vars\nUsing SSL: openssl OpenSSL <span class=\"token number\">1.1</span>.1d  <span class=\"token number\">10</span> Sep <span class=\"token number\">2019</span>\n\nEnter New CA Key Passphrase: <span class=\"token comment\">#fran</span>\nRe-Enter New CA Key Passphrase: <span class=\"token comment\">#fran</span>\nGenerating RSA private key, <span class=\"token number\">2048</span> bit long modulus <span class=\"token punctuation\">(</span><span class=\"token number\">2</span> primes<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+++++\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+++++\ne is <span class=\"token number\">65537</span> <span class=\"token punctuation\">(</span>0x010001<span class=\"token punctuation\">)</span>\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter <span class=\"token string\">'.'</span>, the field will be left blank.\n-----\nCommon Name <span class=\"token punctuation\">(</span>eg: your user, host, or server name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>Easy-RSA CA<span class=\"token punctuation\">]</span>:iesgn.org\n\nCA creation complete and you may now <span class=\"token function\">import</span> and sign cert requests.\nYour new CA certificate <span class=\"token function\">file</span> <span class=\"token keyword\">for</span> publishing is at:\n/home/vagrant/easy-rsa/easyrsa3/pki/ca.crt</code></pre></div>\n<p><strong>Credenciales Servidor</strong>, utilizaremos el script build-server-full mas el nombre del fichero, nos pediran la frase de paso que pusimos anteriormente.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/home/vagrant/easy-rsa/easyrsa3<span class=\"token comment\"># ./easyrsa build-server-full servidor</span>\n\nNote: using Easy-RSA configuration from: /home/vagrant/easy-rsa/easyrsa3/vars\nUsing SSL: openssl OpenSSL <span class=\"token number\">1.1</span>.1d  <span class=\"token number\">10</span> Sep <span class=\"token number\">2019</span>\nGenerating a RSA private key\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+++++\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+++++\nwriting new private key to <span class=\"token string\">'/home/vagrant/easy-rsa/easyrsa3/pki/easy-rsa-3582.ojRSnD/tmp.Uh9gOQ'</span>\nEnter PEM pass phrase:\nVerifying - Enter PEM pass phrase:\n-----\nUsing configuration from /home/vagrant/easy-rsa/easyrsa3/pki/easy-rsa-3582.ojRSnD/tmp.6ZCHcr\nEnter pass phrase <span class=\"token keyword\">for</span> /home/vagrant/easy-rsa/easyrsa3/pki/private/ca.key:\nCheck that the request matches the signature\nSignature ok\nThe Subject<span class=\"token string\">'s Distinguished Name is as follows\ncommonName            :ASN.1 12:'</span>servidor'\nCertificate is to be certified <span class=\"token keyword\">until</span> Jun <span class=\"token number\">27</span> <span class=\"token number\">13</span>:28:19 <span class=\"token number\">2023</span> GMT <span class=\"token punctuation\">(</span><span class=\"token number\">825</span> days<span class=\"token punctuation\">)</span>\n\nWrite out database with <span class=\"token number\">1</span> new entries\nData Base Updated</code></pre></div>\n<p><strong>Clave Diffie Hellman</strong>, es un protocolo de establecimiento de claves entre partes que no han tenido contacto previo, utilizando un canal inseguro y de manera anónima (no autenticada). Puede demorarse un poco su generación.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/home/vagrant/easy-rsa/easyrsa3<span class=\"token comment\"># ./easyrsa gen-dh</span>\n\nNote: using Easy-RSA configuration from: /home/vagrant/easy-rsa/easyrsa3/vars\nUsing SSL: openssl OpenSSL <span class=\"token number\">1.1</span>.1d  <span class=\"token number\">10</span> Sep <span class=\"token number\">2019</span>\nGenerating DH parameters, <span class=\"token number\">2048</span> bit long safe prime, generator <span class=\"token number\">2</span>\nThis is going to take a long <span class=\"token function\">time</span>\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.+<span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>+<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.++*++*++*++*\n\nDH parameters of size <span class=\"token number\">2048</span> created at /home/vagrant/easy-rsa/easyrsa3/pki/dh.pem</code></pre></div>\n<p>Después de obtener todas las credenciales necesarias configuraremos el fichero de <strong>OpenVPN</strong>, antes de ello organizaremos un poco nuestros archivos, crearemos y moveremos los archivos a una carpeta pki en openvpn.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/etc/openvpn/pki<span class=\"token comment\"># tree</span>\n<span class=\"token builtin class-name\">.</span>\n├── ca\n│   ├── ca.crt\n│   └── ca.key\n├── dh.pem\n└── server\n    ├── servidor.crt\n    └── servidor.key\n\n<span class=\"token number\">2</span> directories, <span class=\"token number\">5</span> files</code></pre></div>\n<p>Ahora es paso al fichero de configuración del servidor:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/etc/openvpn<span class=\"token comment\"># nano servidor.conf</span>\n<span class=\"token comment\">#Dispositivo de túnel</span>\ndev tun\n\n<span class=\"token comment\">#Protocolo de red</span>\nproto tcp\n\n<span class=\"token comment\">#Direcciones IP virtuales</span>\nserver <span class=\"token number\">10.99</span>.99.0 <span class=\"token number\">255.255</span>.255.0\n\n<span class=\"token comment\">#subred local</span>\npush <span class=\"token string\">\"route 192.168.100.0 255.255.255.0\"</span>\n\n<span class=\"token comment\">#Rol de servidor</span>\ntls-server\n\n<span class=\"token comment\">#Parámetros Diffie-Hellman</span>\ndh /etc/openvpn/pki/dh.pem\n\n<span class=\"token comment\">#Certificado de la CA</span>\nca /etc/openvpn/pki/ca/ca.crt\n\n<span class=\"token comment\">#Certificado local</span>\ncert /etc/openvpn/pki/server/servidor.crt\n\n<span class=\"token comment\">#Clave privada local</span>\nkey /etc/openvpn/pki/server/servidor.key\n\n<span class=\"token comment\">#Activar la compresión LZO</span>\ncomp-lzo\n\n<span class=\"token comment\">#Detectar caídas de la conexión</span>\nkeepalive <span class=\"token number\">10</span> <span class=\"token number\">60</span>\n\n<span class=\"token comment\">#Nivel de información</span>\nverb <span class=\"token number\">3</span>\n\n<span class=\"token comment\"># Contraseña del certificado del servidor</span>\naskpass passwd.txt</code></pre></div>\n<p>Crearemos un archivo para almacenas las contraseñas de <strong>askpass</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/etc/openvpn<span class=\"token comment\"># nano passwd.txt</span>\nfran</code></pre></div>\n<p>Ahora toca probar el resultado reiniciaremos el servicio de openvpn y comprobaremos que este escuchando por el puerto 1194.</p>\n<p>Nota: En algunos casos como el que me ocurrio a mi los cambios no se implementaron hasta que no reinicie la máquina <strong>reboot</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@servidor:/etc/openvpn<span class=\"token comment\"># service openvpn restart</span>\nroot@servidor:/home/vagrant<span class=\"token comment\"># lsof -i -P -n | grep openvpn</span>\nopenvpn   <span class=\"token number\">659</span>     root    6u  IPv4  <span class=\"token number\">14154</span>      0t0  TCP *:1194 <span class=\"token punctuation\">(</span>LISTEN<span class=\"token punctuation\">)</span>\n\nroot@servidor:/etc/openvpn<span class=\"token comment\"># service openvpn status</span>\n● openvpn.service - OpenVPN <span class=\"token function\">service</span>\n   Loaded: loaded <span class=\"token punctuation\">(</span>/lib/systemd/system/openvpn.service<span class=\"token punctuation\">;</span> enabled<span class=\"token punctuation\">;</span> vendor preset: enabled<span class=\"token punctuation\">)</span>\n   Active: active <span class=\"token punctuation\">(</span>exited<span class=\"token punctuation\">)</span> since Wed <span class=\"token number\">2021</span>-03-24 <span class=\"token number\">14</span>:02:35 UTC<span class=\"token punctuation\">;</span> 18s ago\n  Process: <span class=\"token number\">3892</span> <span class=\"token assign-left variable\">ExecStart</span><span class=\"token operator\">=</span>/bin/true <span class=\"token punctuation\">(</span>code<span class=\"token operator\">=</span>exited, <span class=\"token assign-left variable\">status</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>/SUCCESS<span class=\"token punctuation\">)</span>\n Main PID: <span class=\"token number\">3892</span> <span class=\"token punctuation\">(</span>code<span class=\"token operator\">=</span>exited, <span class=\"token assign-left variable\">status</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>/SUCCESS<span class=\"token punctuation\">)</span>\n\nMar <span class=\"token number\">24</span> <span class=\"token number\">14</span>:02:35 servidor systemd<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>: Starting OpenVPN service<span class=\"token punctuation\">..</span>.\nMar <span class=\"token number\">24</span> <span class=\"token number\">14</span>:02:35 servidor systemd<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>: Started OpenVPN service.\n<span class=\"token comment\">#nueva interfaz generada</span>\n<span class=\"token number\">5</span>: tun0: <span class=\"token operator\">&lt;</span>POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc pfifo_fast state UNKNOWN group default qlen <span class=\"token number\">100</span>\n    link/none \n    inet <span class=\"token number\">10.99</span>.99.1 peer <span class=\"token number\">10.99</span>.99.2/32 scope global tun0\n       valid_lft forever preferred_lft forever</code></pre></div>\n<h3 id=\"configuración-del-cliente\"><a href=\"#configuraci%C3%B3n-del-cliente\" aria-label=\"configuración del cliente permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuración del cliente</h3>\n<p>Ahora daremos paso a la configuración del cliente, necesitaremos crear las credenciales necesarias para su conexión, el primer paso sera pasar la credenciales que generamos en el servidor, serán necesarias:</p>\n<ul>\n<li>\n<p>Credenciales del Cliente</p>\n<ul>\n<li>certificado .crt</li>\n<li>clave privada .key</li>\n</ul>\n</li>\n<li>Certificado CA.crt</li>\n</ul>\n<p>Crearemos una carpeta llamada pki y donde guardaremos los archivos necesarios para tenerlos organizados.</p>\n<p>Crearemos una clave privada RSA para el cliente.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@cliente1:/home/vagrant<span class=\"token comment\"># openssl genrsa -out cliente1.key 4096</span>\nGenerating RSA private key, <span class=\"token number\">4096</span> bit long modulus <span class=\"token punctuation\">(</span><span class=\"token number\">2</span> primes<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.++++\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>++++\ne is <span class=\"token number\">65537</span> <span class=\"token punctuation\">(</span>0x010001<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Generaremos un fichero CSR utilizando la key creada.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@cliente1:/home/vagrant<span class=\"token comment\"># nano cliente1.conf</span>\n<span class=\"token punctuation\">[</span> req <span class=\"token punctuation\">]</span>\ndefault_bits       <span class=\"token operator\">=</span> <span class=\"token number\">4096</span>\ndefault_keyfile    <span class=\"token operator\">=</span> cliente1.key\ndistinguished_name <span class=\"token operator\">=</span> req_distinguished_name\nreq_extensions     <span class=\"token operator\">=</span> req_ext\n\n<span class=\"token punctuation\">[</span> req_distinguished_name <span class=\"token punctuation\">]</span>\ncountryName                 <span class=\"token operator\">=</span> Country Name <span class=\"token punctuation\">(</span><span class=\"token number\">2</span> letter code<span class=\"token punctuation\">)</span>\ncountryName_default         <span class=\"token operator\">=</span> SP\nstateOrProvinceName         <span class=\"token operator\">=</span> State or Province Name <span class=\"token punctuation\">(</span>full name<span class=\"token punctuation\">)</span>\nstateOrProvinceName_default <span class=\"token operator\">=</span> Sevilla\nlocalityName                <span class=\"token operator\">=</span> Locality Name <span class=\"token punctuation\">(</span>eg, city<span class=\"token punctuation\">)</span>\nlocalityName_default        <span class=\"token operator\">=</span> Dos Hermanas\norganizationName            <span class=\"token operator\">=</span> Organization Name <span class=\"token punctuation\">(</span>eg, company<span class=\"token punctuation\">)</span>\norganizationName_default    <span class=\"token operator\">=</span> iesg.org \ncommonName                  <span class=\"token operator\">=</span> Common Name <span class=\"token punctuation\">(</span>e.g. server FQDN or YOUR name<span class=\"token punctuation\">)</span>\ncommonName_max              <span class=\"token operator\">=</span> <span class=\"token number\">64</span>\ncommonName_default          <span class=\"token operator\">=</span> iesgn.org \n\n<span class=\"token punctuation\">[</span> req_ext <span class=\"token punctuation\">]</span>\nsubjectAltName <span class=\"token operator\">=</span> @alt_names\n\n<span class=\"token punctuation\">[</span>alt_names<span class=\"token punctuation\">]</span>\nDNS.1   <span class=\"token operator\">=</span> servidor\n\nroot@cliente1:/home/vagrant<span class=\"token comment\"># openssl req -new -nodes -sha256 -config cliente1.conf -out cliente1.csr</span>\nGenerating a RSA private key\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>++++\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>.++++\nwriting new private key to <span class=\"token string\">'cliente1.key'</span>\n-----\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter <span class=\"token string\">'.'</span>, the field will be left blank.\n-----\nCountry Name <span class=\"token punctuation\">(</span><span class=\"token number\">2</span> letter code<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>SP<span class=\"token punctuation\">]</span>:ES\nState or Province Name <span class=\"token punctuation\">(</span>full name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>Sevilla<span class=\"token punctuation\">]</span>:\nLocality Name <span class=\"token punctuation\">(</span>eg, city<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>Dos Hermanas<span class=\"token punctuation\">]</span>:\nOrganization Name <span class=\"token punctuation\">(</span>eg, company<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>iesg.org<span class=\"token punctuation\">]</span>:\nCommon Name <span class=\"token punctuation\">(</span>e.g. server FQDN or YOUR name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>iesgn.org<span class=\"token punctuation\">]</span>:</code></pre></div>\n<p>Mandaremos el fichero csr al servidor y lo firmaremos.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\">#en el servidor</span>\nroot@servidor:/etc/openvpn/pki<span class=\"token comment\"># openssl x509 -req -in /home/vagrant/cliente1.csr -CA ca/ca.crt -CAkey ca/ca.key -CAcreateserial -out cliente1-firmado.crt</span>\nSignature ok\n<span class=\"token assign-left variable\">subject</span><span class=\"token operator\">=</span>C <span class=\"token operator\">=</span> ES, ST <span class=\"token operator\">=</span> Sevilla, L <span class=\"token operator\">=</span> Dos Hermanas, O <span class=\"token operator\">=</span> iesg.org, CN <span class=\"token operator\">=</span> iesgn.org\nGetting CA Private Key\nEnter pass phrase <span class=\"token keyword\">for</span> ca/ca.key:</code></pre></div>\n<p>Una vez generado se lo devolveremos al cliente para que realize su configuración.</p>\n<p>Crearemos el archivo de configuración para el cliente.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@cliente1:/etc/openvpn<span class=\"token comment\"># nano cliente.conf</span>\n<span class=\"token comment\">#Dispositivo de túnel</span>\ndev tun\n\n<span class=\"token comment\">#IP del servidor</span>\nremote <span class=\"token number\">192.168</span>.2.75\n\n<span class=\"token comment\">#Direcciones IP virtuales</span>\n<span class=\"token function\">ifconfig</span> <span class=\"token number\">10.99</span>.99.0 <span class=\"token number\">255.255</span>.255.0\npull\n\n<span class=\"token comment\">#Protocolo</span>\nproto tcp-client <span class=\"token comment\"># Protocolo tcp</span>\n\n<span class=\"token comment\">#Rol de cliente</span>\ntls-client\n\n<span class=\"token comment\">#Certificado de la CA</span>\nca /etc/openvpn/pki/ca.crt\n\n<span class=\"token comment\">#Certificado cliente</span>\ncert /etc/openvpn/pki/cliente1-firmado.crt\n\n<span class=\"token comment\">#Clave privada cliente</span>\nkey /etc/openvpn/pki/cliente1.key\n\n<span class=\"token comment\">#Activar la compresión LZO</span>\ncomp-lzo\n\n<span class=\"token comment\">#Detectar caídas de la conexión</span>\nkeepalive <span class=\"token number\">10</span> <span class=\"token number\">60</span>\n\n<span class=\"token comment\">#Nivel de la información</span>\nverb <span class=\"token number\">3</span>\n\n<span class=\"token comment\"># Contraseña del certificado del cliente</span>\naskpass passwd.txt</code></pre></div>\n<p>Crearemos un archivo para almacenas las contraseñas de <strong>askpass</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@cliente1:/etc/openvpn<span class=\"token comment\"># nano passwd.txt</span>\nfran</code></pre></div>\n<p>Comprobaremos que funcione ejecutandolo directamente con el comando.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@cliente1:/etc/openvpn<span class=\"token comment\"># openvpn --config cliente.conf &amp;</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token number\">1817</span>\nroot@cliente1:/etc/openvpn<span class=\"token comment\"># Fri Mar 26 17:59:29 2021 WARNING: file 'passwd.txt' is group or others accessible</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:29 <span class=\"token number\">2021</span> OpenVPN <span class=\"token number\">2.4</span>.7 x86_64-pc-linux-gnu <span class=\"token punctuation\">[</span>SSL <span class=\"token punctuation\">(</span>OpenSSL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>LZO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>LZ4<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>EPOLL<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>PKCS11<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>MH/PKTINFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>AEAD<span class=\"token punctuation\">]</span> built on Feb <span class=\"token number\">20</span> <span class=\"token number\">2019</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:29 <span class=\"token number\">2021</span> library versions: OpenSSL <span class=\"token number\">1.1</span>.1d  <span class=\"token number\">10</span> Sep <span class=\"token number\">2019</span>, LZO <span class=\"token number\">2.10</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:29 <span class=\"token number\">2021</span> WARNING: using --pull/--client and --ifconfig together is probably not what you want\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:29 <span class=\"token number\">2021</span> WARNING: No server certificate verification method has been enabled.  See http://openvpn.net/howto.html<span class=\"token comment\">#mitm for more info.</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:29 <span class=\"token number\">2021</span> TCP/UDP: Preserving recently used remote address: <span class=\"token punctuation\">[</span>AF_INET<span class=\"token punctuation\">]</span><span class=\"token number\">192.168</span>.2.75:1194\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:29 <span class=\"token number\">2021</span> Socket Buffers: <span class=\"token assign-left variable\">R</span><span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">131072</span>-<span class=\"token operator\">></span><span class=\"token number\">131072</span><span class=\"token punctuation\">]</span> <span class=\"token assign-left variable\">S</span><span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">16384</span>-<span class=\"token operator\">></span><span class=\"token number\">16384</span><span class=\"token punctuation\">]</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:29 <span class=\"token number\">2021</span> Attempting to establish TCP connection with <span class=\"token punctuation\">[</span>AF_INET<span class=\"token punctuation\">]</span><span class=\"token number\">192.168</span>.2.75:1194 <span class=\"token punctuation\">[</span>nonblock<span class=\"token punctuation\">]</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:30 <span class=\"token number\">2021</span> TCP connection established with <span class=\"token punctuation\">[</span>AF_INET<span class=\"token punctuation\">]</span><span class=\"token number\">192.168</span>.2.75:1194\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:30 <span class=\"token number\">2021</span> TCP_CLIENT <span class=\"token function\">link</span> local: <span class=\"token punctuation\">(</span>not bound<span class=\"token punctuation\">)</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:30 <span class=\"token number\">2021</span> TCP_CLIENT <span class=\"token function\">link</span> remote: <span class=\"token punctuation\">[</span>AF_INET<span class=\"token punctuation\">]</span><span class=\"token number\">192.168</span>.2.75:1194\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:30 <span class=\"token number\">2021</span> TLS: Initial packet from <span class=\"token punctuation\">[</span>AF_INET<span class=\"token punctuation\">]</span><span class=\"token number\">192.168</span>.2.75:1194, <span class=\"token assign-left variable\">sid</span><span class=\"token operator\">=</span>30ce3d0d 93d0e4f6\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:30 <span class=\"token number\">2021</span> VERIFY OK: <span class=\"token assign-left variable\">depth</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>, <span class=\"token assign-left variable\">CN</span><span class=\"token operator\">=</span>iesgn.org\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:30 <span class=\"token number\">2021</span> VERIFY OK: <span class=\"token assign-left variable\">depth</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>, <span class=\"token assign-left variable\">CN</span><span class=\"token operator\">=</span>servidor\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:30 <span class=\"token number\">2021</span> Control Channel: TLSv1.3, cipher TLSv1.3 TLS_AES_256_GCM_SHA384, <span class=\"token number\">2048</span> bit RSA\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:30 <span class=\"token number\">2021</span> <span class=\"token punctuation\">[</span>servidor<span class=\"token punctuation\">]</span> Peer Connection Initiated with <span class=\"token punctuation\">[</span>AF_INET<span class=\"token punctuation\">]</span><span class=\"token number\">192.168</span>.2.75:1194\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> SENT CONTROL <span class=\"token punctuation\">[</span>servidor<span class=\"token punctuation\">]</span>: <span class=\"token string\">'PUSH_REQUEST'</span> <span class=\"token punctuation\">(</span>status<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> PUSH: Received control message: <span class=\"token string\">'PUSH_REPLY,route 192.168.100.0 255.255.255.0,route 10.99.99.1,topology net30,ping 10,ping-restart 60,ifconfig 10.99.99.6 10.99.99.5,peer-id 0,cipher AES-256-GCM'</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> OPTIONS IMPORT: timers and/or timeouts modified\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> OPTIONS IMPORT: --ifconfig/up options modified\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> OPTIONS IMPORT: route options modified\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> OPTIONS IMPORT: peer-id <span class=\"token builtin class-name\">set</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> OPTIONS IMPORT: adjusting link_mtu to <span class=\"token number\">1627</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> OPTIONS IMPORT: data channel crypto options modified\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> Data Channel: using negotiated cipher <span class=\"token string\">'AES-256-GCM'</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> Outgoing Data Channel: Cipher <span class=\"token string\">'AES-256-GCM'</span> initialized with <span class=\"token number\">256</span> bit key\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> Incoming Data Channel: Cipher <span class=\"token string\">'AES-256-GCM'</span> initialized with <span class=\"token number\">256</span> bit key\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> ROUTE_GATEWAY <span class=\"token number\">192.168</span>.2.1/255.255.255.0 <span class=\"token assign-left variable\">IFACE</span><span class=\"token operator\">=</span>eth1 <span class=\"token assign-left variable\">HWADDR</span><span class=\"token operator\">=</span>08:00:27:73:db:a3\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> TUN/TAP device tun0 opened\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> TUN/TAP TX queue length <span class=\"token builtin class-name\">set</span> to <span class=\"token number\">100</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> /sbin/ip <span class=\"token function\">link</span> <span class=\"token builtin class-name\">set</span> dev tun0 up mtu <span class=\"token number\">1500</span>\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> /sbin/ip addr <span class=\"token function\">add</span> dev tun0 <span class=\"token builtin class-name\">local</span> <span class=\"token number\">10.99</span>.99.6 peer <span class=\"token number\">10.99</span>.99.5\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> /sbin/ip route <span class=\"token function\">add</span> <span class=\"token number\">192.168</span>.100.0/24 via <span class=\"token number\">10.99</span>.99.5\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> /sbin/ip route <span class=\"token function\">add</span> <span class=\"token number\">10.99</span>.99.1/32 via <span class=\"token number\">10.99</span>.99.5\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> WARNING: this configuration may cache passwords <span class=\"token keyword\">in</span> memory -- use the auth-nocache option to prevent this\nFri Mar <span class=\"token number\">26</span> <span class=\"token number\">17</span>:59:31 <span class=\"token number\">2021</span> Initialization Sequence Completed</code></pre></div>\n<p>Y comprobaremos la conectividad con la máquina de la red local.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@cliente1:/etc/openvpn<span class=\"token comment\"># ping -c 1 192.168.100.20</span>\nPING <span class=\"token number\">192.168</span>.100.20 <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.100.20<span class=\"token punctuation\">)</span> <span class=\"token number\">56</span><span class=\"token punctuation\">(</span><span class=\"token number\">84</span><span class=\"token punctuation\">)</span> bytes of data.\n<span class=\"token number\">64</span> bytes from <span class=\"token number\">192.168</span>.100.20: <span class=\"token assign-left variable\">icmp_seq</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token assign-left variable\">ttl</span><span class=\"token operator\">=</span><span class=\"token number\">63</span> <span class=\"token assign-left variable\">time</span><span class=\"token operator\">=</span><span class=\"token number\">3.06</span> ms\n\n--- <span class=\"token number\">192.168</span>.100.20 <span class=\"token function\">ping</span> statistics ---\n<span class=\"token number\">1</span> packets transmitted, <span class=\"token number\">1</span> received, <span class=\"token number\">0</span>% packet loss, <span class=\"token function\">time</span> 0ms\nrtt min/avg/max/mdev <span class=\"token operator\">=</span> <span class=\"token number\">3.058</span>/3.058/3.058/0.000 ms</code></pre></div>\n<p>Si queremos que se inicialize cada vez que arranquemos el sistema añadiremos la siguiente linea en el fichero de <strong>/etc/default/openvpn</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token assign-left variable\">AUTOSTART</span><span class=\"token operator\">=</span><span class=\"token string\">\"cliente\"</span></code></pre></div>\n<h2 id=\"tarea-2-vpn-sitio-a-sitio-con-openvpn-y-certificados-x509\"><a href=\"#tarea-2-vpn-sitio-a-sitio-con-openvpn-y-certificados-x509\" aria-label=\"tarea 2 vpn sitio a sitio con openvpn y certificados x509 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 2: VPN sitio a sitio con OpenVPN y certificados x509</h2>\n<h2 id=\"esta-tarea-la-puedes-hacer-con-un-compañero\"><a href=\"#esta-tarea-la-puedes-hacer-con-un-compa%C3%B1ero\" aria-label=\"esta tarea la puedes hacer con un compañero permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Esta tarea la puedes hacer con un compañero.</h2>\n<h2 id=\"configura-una-conexión-vpn-sitio-a-sitio-entre-dos-equipos-del-cloud\"><a href=\"#configura-una-conexi%C3%B3n-vpn-sitio-a-sitio-entre-dos-equipos-del-cloud\" aria-label=\"configura una conexión vpn sitio a sitio entre dos equipos del cloud permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configura una conexión VPN sitio a sitio entre dos equipos del cloud:</h2>\n<h2 id=\"cada-equipo-estará-conectado-a-dos-redes-una-de-ellas-en-común\"><a href=\"#cada-equipo-estar%C3%A1-conectado-a-dos-redes-una-de-ellas-en-com%C3%BAn\" aria-label=\"cada equipo estará conectado a dos redes una de ellas en común permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cada equipo estará conectado a dos redes, una de ellas en común</h2>\n<h2 id=\"para-la-autenticación-de-los-extremos-se-usarán-obligatoriamente-certificados-digitales-que-se-generarán-utilizando-openssl-y-se-almacenarán-en-el-directorio-etcopenvpn-junto-con-con-los-parámetros-diffie-helman-y-el-certificado-de-la-propia-autoridad-de-certificación\"><a href=\"#para-la-autenticaci%C3%B3n-de-los-extremos-se-usar%C3%A1n-obligatoriamente-certificados-digitales-que-se-generar%C3%A1n-utilizando-openssl-y-se-almacenar%C3%A1n-en-el-directorio-etcopenvpn-junto-con-con-los-par%C3%A1metros-diffie-helman-y-el-certificado-de-la-propia-autoridad-de-certificaci%C3%B3n\" aria-label=\"para la autenticación de los extremos se usarán obligatoriamente certificados digitales que se generarán utilizando openssl y se almacenarán en el directorio etcopenvpn junto con con los parámetros diffie helman y el certificado de la propia autoridad de certificación permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Para la autenticación de los extremos se usarán obligatoriamente certificados digitales, que se generarán utilizando openssl y se almacenarán en el directorio /etc/openvpn, junto con con los parámetros Diffie-Helman y el certificado de la propia Autoridad de Certificación.</h2>\n<h2 id=\"se-utilizarán-direcciones-de-la-red-109999024-para-las-direcciones-virtuales-de-la-vpn\"><a href=\"#se-utilizar%C3%A1n-direcciones-de-la-red-109999024-para-las-direcciones-virtuales-de-la-vpn\" aria-label=\"se utilizarán direcciones de la red 109999024 para las direcciones virtuales de la vpn permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Se utilizarán direcciones de la red 10.99.99.0/24 para las direcciones virtuales de la VPN.</h2>\n<h2 id=\"tras-el-establecimiento-de-la-vpn-una-máquina-de-cada-red-detrás-de-cada-servidor-vpn-debe-ser-capaz-de-acceder-a-una-máquina-del-otro-extremo\"><a href=\"#tras-el-establecimiento-de-la-vpn-una-m%C3%A1quina-de-cada-red-detr%C3%A1s-de-cada-servidor-vpn-debe-ser-capaz-de-acceder-a-una-m%C3%A1quina-del-otro-extremo\" aria-label=\"tras el establecimiento de la vpn una máquina de cada red detrás de cada servidor vpn debe ser capaz de acceder a una máquina del otro extremo permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tras el establecimiento de la VPN, una máquina de cada red detrás de cada servidor VPN debe ser capaz de acceder a una máquina del otro extremo.</h2>\n<ul>\n<li>Escenario utilizado ➜ <a href=\"/gatsbyjs/408c305517d284f95f33e296a71478e2/vagrantfilevpn2.txt\">Vagrantfile</a></li>\n</ul>\n<p>Esta vez la configuración sera muy similar donde habra una conexión entre cliente y servidor, pero esta vez el cliente que en este caso es el <strong>servidor1</strong> hará a su vez de servidor del <strong>cliente1</strong>.</p>\n<p>Realizaremos los pasos anteriores para la configuración del <strong>servidor2</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@Servidor2:/etc/openvpn<span class=\"token comment\"># nano servidor2.conf</span>\n<span class=\"token comment\"># Dispositivo de túnel</span>\ndev tun\n<span class=\"token comment\"># Encaminamiento</span>\n<span class=\"token function\">ifconfig</span> <span class=\"token number\">10.99</span>.99.1 <span class=\"token number\">10.99</span>.99.2\nroute <span class=\"token number\">192.168</span>.100.0 <span class=\"token number\">255.255</span>.255.0\n<span class=\"token comment\"># Rol de cliente</span>\ntls-server\n\n<span class=\"token comment\"># Certificado Diffie-Hellman</span>\ndh /etc/openvpn/server/dh.pem\n<span class=\"token comment\"># Certificado de la CA</span>\nca /etc/openvpn/server/ca.crt\n<span class=\"token comment\"># Certificado local</span>\ncert /etc/openvpn/server/servidor.crt\n<span class=\"token comment\"># Clave privada local</span>\nkey /etc/openvpn/server/servidor.key\n\n<span class=\"token comment\"># Activar la compresión LZO</span>\ncomp-lzo\n\n<span class=\"token comment\"># Detectar caídas de la conexión</span>\nkeepalive <span class=\"token number\">10</span> <span class=\"token number\">60</span>\n\n<span class=\"token comment\"># Nivel de información</span>\nverb <span class=\"token number\">3</span>\n\naskpass passwd.txt</code></pre></div>\n<p>Realizaremos los pasos anteriores para la configuración del <strong>cliente1</strong> en el <strong>servidor1</strong> del nuevo escenario añadiendo las modificaciónes pertinentes.\nroot@Servidor1:/etc/openvpn# nano cliente1.conf</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Dispositivo de túnel</span>\ndev tun\n<span class=\"token comment\"># Encaminamiento</span>\n<span class=\"token function\">ifconfig</span> <span class=\"token number\">10.99</span>.99.2 <span class=\"token number\">10.99</span>.99.1\n<span class=\"token comment\"># Direcciones IP virtuales</span>\nremote <span class=\"token number\">192.168</span>.2.243\n<span class=\"token comment\"># Subred remota</span>\nroute <span class=\"token number\">192.168</span>.200.0 <span class=\"token number\">255.255</span>.255.0\n<span class=\"token comment\"># Rol de cliente</span>\ntls-client\n\n<span class=\"token comment\"># Certificado de la CA</span>\nca /etc/openvpn/client/ca.crt\n\n<span class=\"token comment\">#Certificado local</span>\ncert /etc/openvpn/client/cliente1-firmado.crt\n\n<span class=\"token comment\">#Clave privada local</span>\nkey /etc/openvpn/client/cliente1.key\n\n<span class=\"token comment\">#Activar la compresión LZO</span>\ncomp-lzo\n\n<span class=\"token comment\">#Detectar caídas de la conexión</span>\nkeepalive <span class=\"token number\">10</span> <span class=\"token number\">60</span>\n\n<span class=\"token comment\">#Nivel de información</span>\nverb <span class=\"token number\">3</span>\n\naskpass passwd.txt</code></pre></div>\n<p>Ping del cliente1 al cliente2.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@Cliente1:~$ <span class=\"token function\">ip</span> a\n<span class=\"token number\">1</span>: lo: <span class=\"token operator\">&lt;</span>LOOPBACK,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=\"token number\">1000</span>\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet <span class=\"token number\">127.0</span>.0.1/8 scope <span class=\"token function\">host</span> lo\n       valid_lft forever preferred_lft forever\n<span class=\"token number\">2</span>: eth0: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc pfifo_fast state UP group default qlen <span class=\"token number\">1000</span>\n    link/ether 08:00:27:a9:dd:93 brd ff:ff:ff:ff:ff:ff\n    inet <span class=\"token number\">10.0</span>.2.15/24 brd <span class=\"token number\">10.0</span>.2.255 scope global dynamic eth0\n       valid_lft 86012sec preferred_lft 86012sec\n<span class=\"token number\">3</span>: eth1: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc pfifo_fast state UP group default qlen <span class=\"token number\">1000</span>\n    link/ether 08:00:27:61:88:c0 brd ff:ff:ff:ff:ff:ff\n    inet <span class=\"token number\">192.168</span>.200.40/24 brd <span class=\"token number\">192.168</span>.200.255 scope global eth1\n       valid_lft forever preferred_lft forever\n\nvagrant@Cliente1:~$ <span class=\"token function\">ping</span> -c <span class=\"token number\">3</span> <span class=\"token number\">192.168</span>.100.50\nPING <span class=\"token number\">192.168</span>.100.50 <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.100.50<span class=\"token punctuation\">)</span> <span class=\"token number\">56</span><span class=\"token punctuation\">(</span><span class=\"token number\">84</span><span class=\"token punctuation\">)</span> bytes of data.\n<span class=\"token number\">64</span> bytes from <span class=\"token number\">192.168</span>.100.50: <span class=\"token assign-left variable\">icmp_seq</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token assign-left variable\">ttl</span><span class=\"token operator\">=</span><span class=\"token number\">64</span> <span class=\"token assign-left variable\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.853</span> ms\n<span class=\"token number\">64</span> bytes from <span class=\"token number\">192.168</span>.100.50: <span class=\"token assign-left variable\">icmp_seq</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> <span class=\"token assign-left variable\">ttl</span><span class=\"token operator\">=</span><span class=\"token number\">64</span> <span class=\"token assign-left variable\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.726</span> ms\n<span class=\"token number\">64</span> bytes from <span class=\"token number\">192.168</span>.100.50: <span class=\"token assign-left variable\">icmp_seq</span><span class=\"token operator\">=</span><span class=\"token number\">3</span> <span class=\"token assign-left variable\">ttl</span><span class=\"token operator\">=</span><span class=\"token number\">64</span> <span class=\"token assign-left variable\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.733</span> ms\n\n--- <span class=\"token number\">192.168</span>.100.50 <span class=\"token function\">ping</span> statistics ---\n<span class=\"token number\">3</span> packets transmitted, <span class=\"token number\">3</span> received, <span class=\"token number\">0</span>% packet loss, <span class=\"token function\">time</span> 51ms\nrtt min/avg/max/mdev <span class=\"token operator\">=</span> <span class=\"token number\">0.726</span>/0.770/0.853/0.066 ms</code></pre></div>\n<p>Ping del cliente2 al cliente1.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@Cliente2:~$ <span class=\"token function\">ip</span> a\n<span class=\"token number\">1</span>: lo: <span class=\"token operator\">&lt;</span>LOOPBACK,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=\"token number\">1000</span>\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet <span class=\"token number\">127.0</span>.0.1/8 scope <span class=\"token function\">host</span> lo\n       valid_lft forever preferred_lft forever\n<span class=\"token number\">2</span>: eth0: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc pfifo_fast state UP group default qlen <span class=\"token number\">1000</span>\n    link/ether 08:00:27:a9:dd:93 brd ff:ff:ff:ff:ff:ff\n    inet <span class=\"token number\">10.0</span>.2.15/24 brd <span class=\"token number\">10.0</span>.2.255 scope global dynamic eth0\n       valid_lft 86193sec preferred_lft 86193sec\n<span class=\"token number\">3</span>: eth1: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc pfifo_fast state UP group default qlen <span class=\"token number\">1000</span>\n    link/ether 08:00:27:3f:5d:26 brd ff:ff:ff:ff:ff:ff\n    inet <span class=\"token number\">192.168</span>.100.50/24 brd <span class=\"token number\">192.168</span>.100.255 scope global eth1\n       valid_lft forever preferred_lft forever\n\nvagrant@Cliente2:~$ <span class=\"token function\">ping</span> <span class=\"token number\">192.168</span>.200.40\nPING <span class=\"token number\">192.168</span>.200.40 <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.200.40<span class=\"token punctuation\">)</span> <span class=\"token number\">56</span><span class=\"token punctuation\">(</span><span class=\"token number\">84</span><span class=\"token punctuation\">)</span> bytes of data.\n<span class=\"token number\">64</span> bytes from <span class=\"token number\">192.168</span>.200.40: <span class=\"token assign-left variable\">icmp_seq</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token assign-left variable\">ttl</span><span class=\"token operator\">=</span><span class=\"token number\">64</span> <span class=\"token assign-left variable\">time</span><span class=\"token operator\">=</span><span class=\"token number\">1.46</span> ms\n<span class=\"token number\">64</span> bytes from <span class=\"token number\">192.168</span>.200.40: <span class=\"token assign-left variable\">icmp_seq</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> <span class=\"token assign-left variable\">ttl</span><span class=\"token operator\">=</span><span class=\"token number\">64</span> <span class=\"token assign-left variable\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.626</span> ms\n<span class=\"token number\">64</span> bytes from <span class=\"token number\">192.168</span>.200.40: <span class=\"token assign-left variable\">icmp_seq</span><span class=\"token operator\">=</span><span class=\"token number\">3</span> <span class=\"token assign-left variable\">ttl</span><span class=\"token operator\">=</span><span class=\"token number\">64</span> <span class=\"token assign-left variable\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.712</span> ms\n^C\n--- <span class=\"token number\">192.168</span>.200.40 <span class=\"token function\">ping</span> statistics ---\n<span class=\"token number\">3</span> packets transmitted, <span class=\"token number\">3</span> received, <span class=\"token number\">0</span>% packet loss, <span class=\"token function\">time</span> 5ms\nrtt min/avg/max/mdev <span class=\"token operator\">=</span> <span class=\"token number\">0.626</span>/0.931/1.456/0.373 ms</code></pre></div>","timeToRead":17,"excerpt":"Tarea 1: VPN de acceso remoto con OpenVPN y certificados x509Permalink Para esta tarea puedes usar el fichero heat del primer ejercicio. En…","frontmatter":{"title":"[SAD] - Práctica: VPN con OpenVPN y certificados x509","cover":"https://img.icons8.com/ios/452/work.png","date":"2021-03-17T00:00:00.000Z","categories":["SAD"],"tags":["VPN","OpenVPN"]},"fields":{"slug":"/sad-practica-vpn-con-open-vpn-y-certificados-x-509","date":"March 16, 2021"}}},"pageContext":{"slug":"/sad-practica-vpn-con-open-vpn-y-certificados-x-509","nexttitle":"[ABD] Práctica 7 - Auditorías","nextslug":"/abd-practica-7-auditorias","prevtitle":"Práctica 2: rclone - Gestionando nuestro almacenamiento en la nube (unidad 1)","prevslug":"/practica-2-rclone-gestionando-nuestro-almacenamiento-en-la-nube-unidad-1"}}}