{"componentChunkName":"component---src-templates-post-js","path":"/servicios-practica-proxy-proxy-inverso-y-balanceadores-de-carga","result":{"data":{"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/699d21294940b1088e2040cadb3367cf/4c0d2/squid_proxy.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.63636363636364%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRlYAAABXRUJQVlA4IEoAAACwAwCdASoUAAkAPtFUo0uoJKMhsAgBABoJZACdMoR3ACfnWseDAAD9FQLj7x7g5vNzMETm/D0j+m0H/tPzMffrQxoWiTM0K4AAAA=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"cabecera proxy squid\"\n        src=\"/gatsbyjs/static/699d21294940b1088e2040cadb3367cf/de8ee/squid_proxy.webp\"\n        srcset=\"/gatsbyjs/static/699d21294940b1088e2040cadb3367cf/ca0f9/squid_proxy.webp 173w,\n/gatsbyjs/static/699d21294940b1088e2040cadb3367cf/fdd64/squid_proxy.webp 345w,\n/gatsbyjs/static/699d21294940b1088e2040cadb3367cf/de8ee/squid_proxy.webp 690w,\n/gatsbyjs/static/699d21294940b1088e2040cadb3367cf/4b494/squid_proxy.webp 1035w,\n/gatsbyjs/static/699d21294940b1088e2040cadb3367cf/4c0d2/squid_proxy.webp 1100w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"proxy-squid\"><a href=\"#proxy-squid\" aria-label=\"proxy squid permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Proxy Squid</h1>\n<p>Antes de comenzar crearemos una máquina <strong>vagrant</strong> donde realizaremos el ejercicio.  </p>\n<ul>\n<li><a href=\"https://fp.josedomingo.org/serviciosgs/u08/doc/squid/Vagrantfile\">Vagrantfile</a>\n(Para no tener problemas a la hora de levantar la máquina de vagrant modificaremos el box por generic/debian10)</li>\n</ul>\n<h2 id=\"tarea-1-instala-squid-en-la-máquina-squid-y-configúralo-para-que-permita-conexiones-desde-la-red-donde-este-tu-ordenador\"><a href=\"#tarea-1-instala-squid-en-la-m%C3%A1quina-squid-y-config%C3%BAralo-para-que-permita-conexiones-desde-la-red-donde-este-tu-ordenador\" aria-label=\"tarea 1 instala squid en la máquina squid y configúralo para que permita conexiones desde la red donde este tu ordenador permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 1: Instala squid en la máquina squid y configúralo para que permita conexiones desde la red donde este tu ordenador.</h2>\n<p>Una vez se configuren ambas máquinas procederemos a la instalación de proxy squid y su configuración en la máquina \"proxy\".</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># apt install squid</span>\nReading package lists<span class=\"token punctuation\">..</span>. Done\nBuilding dependency tree       \nReading state information<span class=\"token punctuation\">..</span>. Done\nThe following additional packages will be installed:\n  libdbi-perl libecap3 squid-common squid-langpack\nSuggested packages:\n  libclone-perl libmldbm-perl libnet-daemon-perl libsql-statement-perl squidclient\n  squid-cgi squid-purge smbclient ufw winbind\nThe following NEW packages will be installed:\n  libdbi-perl libecap3 squid squid-common squid-langpack\n<span class=\"token number\">0</span> upgraded, <span class=\"token number\">5</span> newly installed, <span class=\"token number\">0</span> to remove and <span class=\"token number\">0</span> not upgraded.\nNeed to get <span class=\"token number\">3,907</span> kB of archives.\nAfter this operation, <span class=\"token number\">15.4</span> MB of additional disk space will be used.\nDo you want to continue? <span class=\"token punctuation\">[</span>Y/n<span class=\"token punctuation\">]</span> y\nGet:1 http://deb.debian.org/debian buster/main amd64 libecap3 amd64 <span class=\"token number\">1.0</span>.1-3.2 <span class=\"token punctuation\">[</span><span class=\"token number\">16.5</span> kB<span class=\"token punctuation\">]</span>\nGet:2 http://deb.debian.org/debian buster/main amd64 squid-langpack all <span class=\"token number\">20190110</span>-1 <span class=\"token punctuation\">[</span><span class=\"token number\">167</span> kB<span class=\"token punctuation\">]</span>\nGet:3 http://deb.debian.org/debian buster/main amd64 squid-common all <span class=\"token number\">4.6</span>-1+deb10u4 <span class=\"token punctuation\">[</span><span class=\"token number\">309</span> kB<span class=\"token punctuation\">]</span>\nGet:4 http://deb.debian.org/debian buster/main amd64 libdbi-perl amd64 <span class=\"token number\">1.642</span>-1+deb10u2 <span class=\"token punctuation\">[</span><span class=\"token number\">775</span> kB<span class=\"token punctuation\">]</span>\nGet:5 http://deb.debian.org/debian buster/main amd64 squid amd64 <span class=\"token number\">4.6</span>-1+deb10u4 <span class=\"token punctuation\">[</span><span class=\"token number\">2,640</span> kB<span class=\"token punctuation\">]</span>\nFetched <span class=\"token number\">3,907</span> kB <span class=\"token keyword\">in</span> 2s <span class=\"token punctuation\">(</span><span class=\"token number\">2,243</span> kB/s<span class=\"token punctuation\">)</span>\nSelecting previously unselected package libecap3:amd64.\n<span class=\"token punctuation\">(</span>Reading database <span class=\"token punctuation\">..</span>. <span class=\"token number\">60974</span> files and directories currently installed.<span class=\"token punctuation\">)</span>\nPreparing to unpack <span class=\"token punctuation\">..</span>./libecap3_1.0.1-3.2_amd64.deb <span class=\"token punctuation\">..</span>.\nUnpacking libecap3:amd64 <span class=\"token punctuation\">(</span><span class=\"token number\">1.0</span>.1-3.2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSelecting previously unselected package squid-langpack.\nPreparing to unpack <span class=\"token punctuation\">..</span>./squid-langpack_20190110-1_all.deb <span class=\"token punctuation\">..</span>.\nUnpacking squid-langpack <span class=\"token punctuation\">(</span><span class=\"token number\">20190110</span>-1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSelecting previously unselected package squid-common.\nPreparing to unpack <span class=\"token punctuation\">..</span>./squid-common_4.6-1+deb10u4_all.deb <span class=\"token punctuation\">..</span>.\nUnpacking squid-common <span class=\"token punctuation\">(</span><span class=\"token number\">4.6</span>-1+deb10u4<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSelecting previously unselected package libdbi-perl:amd64.\nPreparing to unpack <span class=\"token punctuation\">..</span>./libdbi-perl_1.642-1+deb10u2_amd64.deb <span class=\"token punctuation\">..</span>.\nUnpacking libdbi-perl:amd64 <span class=\"token punctuation\">(</span><span class=\"token number\">1.642</span>-1+deb10u2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSelecting previously unselected package squid.\nPreparing to unpack <span class=\"token punctuation\">..</span>./squid_4.6-1+deb10u4_amd64.deb <span class=\"token punctuation\">..</span>.\nproxy:x:13:13:proxy:/bin:/usr/sbin/nologin\nUnpacking squid <span class=\"token punctuation\">(</span><span class=\"token number\">4.6</span>-1+deb10u4<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSetting up squid-langpack <span class=\"token punctuation\">(</span><span class=\"token number\">20190110</span>-1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSetting up libdbi-perl:amd64 <span class=\"token punctuation\">(</span><span class=\"token number\">1.642</span>-1+deb10u2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSetting up libecap3:amd64 <span class=\"token punctuation\">(</span><span class=\"token number\">1.0</span>.1-3.2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSetting up squid-common <span class=\"token punctuation\">(</span><span class=\"token number\">4.6</span>-1+deb10u4<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSetting up squid <span class=\"token punctuation\">(</span><span class=\"token number\">4.6</span>-1+deb10u4<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nSetcap worked<span class=\"token operator\">!</span> /usr/lib/squid/pinger is not suid<span class=\"token operator\">!</span>\nCreated symlink /etc/systemd/system/multi-user.target.wants/squid.service → /lib/systemd/system/squid.service.\nProcessing triggers <span class=\"token keyword\">for</span> systemd <span class=\"token punctuation\">(</span><span class=\"token number\">241</span>-7~deb10u6<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nProcessing triggers <span class=\"token keyword\">for</span> man-db <span class=\"token punctuation\">(</span><span class=\"token number\">2.8</span>.5-2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.\nProcessing triggers <span class=\"token keyword\">for</span> libc-bin <span class=\"token punctuation\">(</span><span class=\"token number\">2.28</span>-10<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">..</span>.</code></pre></div>\n<p>Ahora comenzaremos con su configuración, estableceremos los puertos y las redes.(Por defecto vienen la mayoría activados para hay otros que no, para ello revisa todos los comando y añade los nuevos.)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># nano /etc/squid/squid.conf</span>\nacl localnet src <span class=\"token number\">10.0</span>.0.0/24\nacl localnet src <span class=\"token number\">192.168</span>.200.0/24\n\nacl SSL_ports port <span class=\"token number\">443</span>\nacl Safe_ports port <span class=\"token number\">80</span>          <span class=\"token comment\"># http</span>\nacl Safe_ports port <span class=\"token number\">21</span>          <span class=\"token comment\"># ftp</span>\nacl Safe_ports port <span class=\"token number\">443</span>         <span class=\"token comment\"># https</span>\nacl CONNECT method CONNECT\n\n<span class=\"token comment\"># Deny requests to certain unsafe ports</span>\nhttp_access deny <span class=\"token operator\">!</span>Safe_ports\n\n<span class=\"token comment\"># Deny CONNECT to other than secure SSL ports</span>\nhttp_access deny CONNECT <span class=\"token operator\">!</span>SSL_ports\n\n<span class=\"token comment\"># Only allow cachemgr access from localhost</span>\nhttp_access allow localhost manager\nhttp_access deny manager\n\n<span class=\"token comment\"># from where browsing should be allowed</span>\nhttp_access allow localnet\nhttp_access allow localhost\n\n<span class=\"token comment\"># And finally deny all other access to this proxy</span>\nhttp_access deny all\n\nhttp_port <span class=\"token number\">3128</span>\n\ncoredump_dir /var/spool/squid</code></pre></div>\n<p>Reiniciamos el servicio.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># systemctl restart squid</span></code></pre></div>\n<h2 id=\"tarea-2-prueba-que-tu-ordenador-está-navegando-a-través-del-proxy-httphttps-configurando-el-proxy-de-dos-maneras-diferentes\"><a href=\"#tarea-2-prueba-que-tu-ordenador-est%C3%A1-navegando-a-trav%C3%A9s-del-proxy-httphttps-configurando-el-proxy-de-dos-maneras-diferentes\" aria-label=\"tarea 2 prueba que tu ordenador está navegando a través del proxy httphttps configurando el proxy de dos maneras diferentes permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 2: Prueba que tu ordenador está navegando a través del proxy (HTTP/HTTPS) configurando el proxy de dos maneras diferentes:</h2>\n<ul>\n<li><strong>Directamente indicándolo en el navegador.</strong></li>\n</ul>\n<p>Lo indicaremos mediante el navegador, lo configuraremos de manera que utilice la máquina servidor para controlar el tráfico.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/ccbe38a0a2b0e52d0b38ecfe0a7a5d46/f570d/proxy.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAACrElEQVQ4y31U2W7aQBT1NyQirZASwKzejfGCDZiklBipiZpCFYkkQqj//w3czrmDHQxuH45mvWfO3Ub5s/+g9/e3w8d2S783v+h5taLnpyfabDb08vJTjGv6IdaLh5SyxyVlWUYrcSfLHmm9XtNut6P9fk/b7fbw+vpKiq4ZB88LyHW9w3DokycwGgXkCYRhTIvFkrH8vqQ0vSffj3g/DMc8h62wOwTBmGzbPSidTl9c/Ebj8ZTiOKU4SWk6hWFMpukKg1AYwCgkxxnxnmkOGZb1CZy12z1Sms02JYJkNrsXykKBiIELum4zBgOzgKZZFxgMDOHhSMwNUu7uWkwAlclRXRzPaD5f0GQyZ3WG4RTkVcBDEGOaNimtVofVgQBkmE+n86N7ILKYULp6Cdf12eUoSiQhXIaKMEwIgU2SmYjnhMlAZFkuG/T7OnW7GvV6ZYAQxEiUaVqS8DOwXpEEKARs2+MzxKrfNy6AB+F24TII8QKMYZgrgxqpSGdAYTXhkAlRQgUhyHx/zERwQ17WCzf/jQFqkAkxFoSIQ16kyDDiGMdTjqmmVZdKDniHLMO25DKkI1458iKG2tM6PAXOcnXIsmGIpKC6oQQvICnnBFJhGafnKKuzGHYI7Yd6BBoNlYGCxwgPcjQa7dJaokO3t01OJhNCIWoIpSLjKNsPqhGGUxWGYVeWDxIJtx3HJUVVu9xyaDMAnSJbEOu0OEMVBIF8+Lz18Aj28UspcAtFmaYPTIL2g2H+g6ACkKQ8CVUfBPZKhFhE0YSBkkGC8v7FeNnLTunDyBX6fig/B0mWFKpAKBEe2294Aeyj5+VnG3N4xCctFYIQCZENr5dQ3XI6uwlC2CGBmPd6A1JqtS90dVWj6+saYX5z81X8vG1x2BWt9X+oqsp3Aczr9Tr9BUsviuviz4LyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"configuración del proxy via navegador\"\n        src=\"/gatsbyjs/static/ccbe38a0a2b0e52d0b38ecfe0a7a5d46/36727/proxy.png\"\n        srcset=\"/gatsbyjs/static/ccbe38a0a2b0e52d0b38ecfe0a7a5d46/acf4b/proxy.png 173w,\n/gatsbyjs/static/ccbe38a0a2b0e52d0b38ecfe0a7a5d46/fc834/proxy.png 345w,\n/gatsbyjs/static/ccbe38a0a2b0e52d0b38ecfe0a7a5d46/36727/proxy.png 690w,\n/gatsbyjs/static/ccbe38a0a2b0e52d0b38ecfe0a7a5d46/f570d/proxy.png 960w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Como podemos observar podemos acceder a cualquier página.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/e1c18ced33625b4cfb846320dc1042b6/f570d/proxy2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAADoElEQVQ4y31UXXPaVhCVk2CBPgAJfUsIxHcAE2wItrENJXVt7CQTp5lxPPFD4oek0/j/v3K6e0EdJlP3YWeFuLt7ztlzJT3+/QOPjz9Xf33/jk9/3uDD9TU+3tzg9vYW79+9w3K5xPLqChfnC1wtL3FJv9++vcb7Dzf49Pke3759xcPDA77c36/u7u4gzd9crs4WF+jtjVbdwQEa7T7qrR5qFHv7h5hM5xgfz3B8usBryvzc6R+g3Rui1X1FMUR/OFn19vZxfnG9ksJKC365gaIdolAKoJseNNOFZrgwrAB5epc3fRQt+p+Cs1pwoORtEWrBFjW7ShGjyQmkku0jKNfhBAm0ogM970CWTYRRgsPxa5hOGW5Qhe1XKCcouWUa7EOjpjI12c0VkFUN7LxQsDccQ7K8CoK4QYc8qKoFq1tF7eMQmkUotBLi+ks0Xw7R6LxClLTFgDwh0okBB4OwvBhuVMP07A2kItGyabLhxoKK7rootWLIuolnGRV+VIZBTUxCZjqRQMoNBZtNU0YsE8rT2e+QeKJdHcCpj2FGHai6hZxSguWEaDY7yBJKjXRS85bIOjVS+IxmCsoc/CztyDiaztaUvdYR3PaUmo6QJ9EVKvaCCsb7I1QqNST1jlicTdQc0tO0I4FS0UvIUTDKHA2Zni0gMd2ov0A4+AN+d46CU6EDDm3NgCTJGDQqSGpNeOWGoMYSpXRTLVkKi6Q4m59TQy+EWz+A05jACJpEy4JKBbz9ajVBRjEFCtGEgqnzVjnkTeaQpAxRnkMyuHvUpmYtgY4Lc+SvIKriaDIGS+KTrbwwEUjyTI90FY1YR8o8iLWenv5GCAlqXGujSLbJm+uNMRU+KD1XUGl06WaMEFZbwh68ba4psZ40xA1rImy/uqbMRuXbwj5ic6e24M1laYNRXBcFPnk1iJvipqR24XMpgOeyjpMZ+VDb6MJ5O7jAcqONZWyho7KxTnqG63gwb1t6lsXRCWmYTtsOvp8l8mG3PyR05AKiy5m15BzQxvmZ2RQ2KNkVQsNfm/HkfzXcyZIcTdQ7A5STjmhs2GufqltILaFnba3hfyHkQ0Vq6nnrYqakbCinz0x1OyRp92nK7PooTjCbHtJW1x+PlDajZ035yqVeZF0z9NU5fooyZ/bYTkYnu7TR6u2LLw3TZVcwRRFsn42NnqScNhTUNAN+GIPNb2y+NOy/1Coi/2qb/2vItNjsXJBGemY7+H2GznLDfwDiGihyoaiLcAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"configuración del proxy via navegador2\"\n        src=\"/gatsbyjs/static/e1c18ced33625b4cfb846320dc1042b6/36727/proxy2.png\"\n        srcset=\"/gatsbyjs/static/e1c18ced33625b4cfb846320dc1042b6/acf4b/proxy2.png 173w,\n/gatsbyjs/static/e1c18ced33625b4cfb846320dc1042b6/fc834/proxy2.png 345w,\n/gatsbyjs/static/e1c18ced33625b4cfb846320dc1042b6/36727/proxy2.png 690w,\n/gatsbyjs/static/e1c18ced33625b4cfb846320dc1042b6/f570d/proxy2.png 960w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Comprobaremos el log de Squid para verificar que la conexión.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># cat /var/log/squid/access.log</span>\n<span class=\"token number\">1615812871.897</span>    <span class=\"token number\">151</span> <span class=\"token number\">192.168</span>.200.1 TCP_MISS/200 <span class=\"token number\">1087</span> POST http://ocsp.sectigo.com/ - HIER_DIRECT/151.139.128.14 application/ocsp-response\n<span class=\"token number\">1615812873.784</span>    <span class=\"token number\">127</span> <span class=\"token number\">192.168</span>.200.1 TCP_MISS/200 <span class=\"token number\">1059</span> POST http://r3.o.lencr.org/ - HIER_DIRECT/95.101.143.17 application/ocsp-response\n<span class=\"token number\">1615812874.145</span>     <span class=\"token number\">79</span> <span class=\"token number\">192.168</span>.200.1 TCP_MISS/200 <span class=\"token number\">1086</span> POST http://ocsp.sectigo.com/ - HIER_DIRECT/151.139.128.14 application/ocsp-response\n<span class=\"token number\">1615812874.175</span>     <span class=\"token number\">67</span> <span class=\"token number\">192.168</span>.200.1 TCP_MISS/200 <span class=\"token number\">1086</span> POST http://ocsp.sectigo.com/ - HIER_DIRECT/151.139.128.14 application/ocsp-response\n<span class=\"token number\">1615812874.179</span>     <span class=\"token number\">75</span> <span class=\"token number\">192.168</span>.200.1 TCP_MISS/200 <span class=\"token number\">1086</span> POST http://ocsp.sectigo.com/ - HIER_DIRECT/151.139.128.14 application/ocsp-response\n<span class=\"token number\">1615812874.181</span>     <span class=\"token number\">77</span> <span class=\"token number\">192.168</span>.200.1 TCP_MISS/200 <span class=\"token number\">1086</span> POST http://ocsp.sectigo.com/ - HIER_DIRECT/151.139.128.14 application/ocsp-response\n<span class=\"token number\">1615812874.182</span>     <span class=\"token number\">74</span> <span class=\"token number\">192.168</span>.200.1 TCP_MISS/200 <span class=\"token number\">1086</span> POST http://ocsp.sectigo.com/ - HIER_DIRECT/151.139.128.14 application/ocsp-response\n<span class=\"token number\">1615812874.288</span>    <span class=\"token number\">404</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">4374</span> CONNECT ovh.commander1.com:443 - HIER_DIRECT/15.188.224.144 -\n<span class=\"token number\">1615812874.322</span>    <span class=\"token number\">174</span> <span class=\"token number\">192.168</span>.200.1 TCP_MISS/200 <span class=\"token number\">993</span> POST http://status.thawte.com/ - HIER_DIRECT/93.184.220.29 application/ocsp-response\n<span class=\"token number\">1615812878.817</span>   <span class=\"token number\">7314</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">1000111</span> CONNECT www.ovh.com:443 - HIER_DIRECT/198.27.92.1 -\n<span class=\"token number\">1615812878.864</span>   <span class=\"token number\">5441</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">20995</span> CONNECT analytics.ovh.com:443 - HIER_DIRECT/145.239.37.172 -\n<span class=\"token number\">1615812884.068</span>    <span class=\"token number\">201</span> <span class=\"token number\">192.168</span>.200.1 TCP_MISS/200 <span class=\"token number\">835</span> POST http://ocsp.digicert.com/ - HIER_DIRECT/93.184.220.29 application/ocsp-response\n<span class=\"token number\">1615812884.586</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615812884.674</span>    <span class=\"token number\">107</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT github.githubassets.com:443 - HIER_DIRECT/185.199.109.154 -\n<span class=\"token number\">1615812884.675</span>    <span class=\"token number\">108</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT github.githubassets.com:443 - HIER_DIRECT/185.199.109.154 -\n<span class=\"token number\">1615812884.675</span>    <span class=\"token number\">113</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT github.githubassets.com:443 - HIER_DIRECT/185.199.109.154 -\n<span class=\"token number\">1615812884.675</span>    <span class=\"token number\">113</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT github.githubassets.com:443 - HIER_DIRECT/185.199.109.154 -\n<span class=\"token number\">1615812884.675</span>    <span class=\"token number\">112</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT github.githubassets.com:443 - HIER_DIRECT/185.199.109.154 -\n<span class=\"token number\">1615812884.678</span>     <span class=\"token number\">37</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT github.githubassets.com:443 - HIER_DIRECT/185.199.109.154 -\n<span class=\"token number\">1615812884.678</span>    <span class=\"token number\">111</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT github.githubassets.com:443 - HIER_DIRECT/185.199.109.154 -\n<span class=\"token number\">1615812884.801</span>    <span class=\"token number\">233</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">6135</span> CONNECT avatars.githubusercontent.com:443 - HIER_DIRECT/185.199.109.133 -\n<span class=\"token number\">1615812884.807</span>    <span class=\"token number\">237</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">6788</span> CONNECT avatars.githubusercontent.com:443 - HIER_DIRECT/185.199.109.133 -\n<span class=\"token number\">1615812885.407</span>     <span class=\"token number\">35</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT github.githubassets.com:443 - HIER_DIRECT/185.199.109.154 -\n<span class=\"token number\">1615812889.228</span>  <span class=\"token number\">15380</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">38335</span> CONNECT eu.api.ovh.com:443 - HIER_DIRECT/51.38.17.223 -\n<span class=\"token number\">1615812889.231</span>  <span class=\"token number\">15386</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">9385</span> CONNECT eu.api.ovh.com:443 - HIER_DIRECT/51.38.17.223 -\n<span class=\"token number\">1615812889.284</span>  <span class=\"token number\">15440</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">12260</span> CONNECT eu.api.ovh.com:443 - HIER_DIRECT/51.38.17.223 -\n<span class=\"token number\">1615812889.284</span>  <span class=\"token number\">15441</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">42475</span> CONNECT eu.api.ovh.com:443 - HIER_DIRECT/51.38.17.223 -\n<span class=\"token number\">1615812889.369</span>  <span class=\"token number\">15523</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">6204</span> CONNECT eu.api.ovh.com:443 - HIER_DIRECT/51.38.17.223 -\n<span class=\"token number\">1615812889.423</span>  <span class=\"token number\">15138</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">131029</span> CONNECT eu.api.ovh.com:443 - HIER_DIRECT/51.38.17.223 -\n<span class=\"token number\">1615812889.436</span>  <span class=\"token number\">15149</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">130375</span> CONNECT eu.api.ovh.com:443 - HIER_DIRECT/51.38.17.223 -\n<span class=\"token number\">1615812889.552</span>  <span class=\"token number\">15154</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">126484</span> CONNECT eu.api.ovh.com:443 - HIER_DIRECT/51.38.17.223 -\n<span class=\"token number\">1615812889.712</span>  <span class=\"token number\">15869</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">47569</span> CONNECT eu.api.ovh.com:443 - HIER_DIRECT/51.38.17.223 -\n<span class=\"token number\">1615812945.854</span>  <span class=\"token number\">61035</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">4225</span> CONNECT collector.githubapp.com:443 - HIER_DIRECT/107.21.220.190 -</code></pre></div>\n<ul>\n<li><strong>Configurando el proxy del sistema en el entorno gráfico (tienes que indicar en el navegador que vas a hacer uso del proxy del sistema).</strong></li>\n</ul>\n<p>Primero revertiremos los cambios hecho en el navegador, y modificaremos el proxy desde la configuración de la interfaz.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/5bcf50fc6d21bb96b1b28bd809948c22/f1cfd/proxy3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.6319018404908%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABtElEQVQ4y4WSWY7bMBBEdYVkgHxElGTtC71btmTL9pd9jUGA3P8MFVbDrUgzCeaj0C2K/djVpJdlGShrGxdT+L6PIAhGGWMkhmEoMU1TLBaL2RrFNcpT4LQwjmPkeS7F1lo0TYMkSWQf1yit4z5Kvz1+lGUpi1EUySks0I1FUQiwqqpPQB6iue739ENtMF+v19hsNlgul1itVuj7HufzWda5RjGv63rsXLucdUgg8+fzicfjgbZtcTwecTgcRMxVp9NJDlM3CvUIoC1Gzo/WhmHA7XYV4F9YO34zEshO9aJmHU6BtEF7VN93uFwuknMEBFHb7Va6JJCjmlkmiOIpvGkCr9erdEnQ/X533d4EqFZ3u53ktPyfGVaI3Q9jAlSvDgnsum4Ui3WOCuTFfJphlibI3YNeRO6Bmp+uw0psKpDF1H6/ly71BfwLKB1m9RpUmJTwoxxVw2dyFmss4pMhmJFgBXKWH29ZgP7wGz+6X/h2eMf39h1vTqEdUGSu87yYzYeXN9XU6mg5KSzyeoM4tzBxAZO4eWbuXb5O/EpTmADrqoRtKjfDEFFonALIXF8bvtJH6B/QoJ4PLVIrswAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"configuración del proxy via interfaz grafíca\"\n        src=\"/gatsbyjs/static/5bcf50fc6d21bb96b1b28bd809948c22/36727/proxy3.png\"\n        srcset=\"/gatsbyjs/static/5bcf50fc6d21bb96b1b28bd809948c22/acf4b/proxy3.png 173w,\n/gatsbyjs/static/5bcf50fc6d21bb96b1b28bd809948c22/fc834/proxy3.png 345w,\n/gatsbyjs/static/5bcf50fc6d21bb96b1b28bd809948c22/36727/proxy3.png 690w,\n/gatsbyjs/static/5bcf50fc6d21bb96b1b28bd809948c22/f1cfd/proxy3.png 978w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Volveremos a verificar el funcionaminento accediendo a varias páginas.</p>\n<p>Comprobaremos el log nuevamente.(nueva líneas)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># cat /var/log/squid/access.log</span>\n<span class=\"token number\">1615813055.864</span> <span class=\"token number\">172194</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">72812</span> CONNECT github.com:443 - HIER_DIRECT/140.82.121.4 -\n<span class=\"token number\">1615813055.864</span> <span class=\"token number\">171278</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">48559</span> CONNECT avatars.githubusercontent.com:443 - HIER_DIRECT/185.199.109.133 -\n<span class=\"token number\">1615813055.864</span> <span class=\"token number\">171025</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">3967</span> CONNECT api.github.com:443 - HIER_DIRECT/140.82.121.5 -\n<span class=\"token number\">1615813235.176</span>  <span class=\"token number\">60722</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">4246</span> CONNECT profile.accounts.firefox.com:443 - HIER_DIRECT/54.148.210.55 -\n<span class=\"token number\">1615813345.666</span> <span class=\"token number\">171203</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">7136</span> CONNECT sync-1-us-west1-g.sync.services.mozilla.com:443 - HIER_DIRECT/35.186.227.140 -\n<span class=\"token number\">1615813626.113</span>  <span class=\"token number\">61051</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">4246</span> CONNECT profile.accounts.firefox.com:443 - HIER_DIRECT/52.34.194.35 -\n<span class=\"token number\">1615813800.933</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615813800.933</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615813893.503</span>    <span class=\"token number\">644</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">4379</span> CONNECT mail.google.com:443 - HIER_DIRECT/108.177.122.83 -\n<span class=\"token number\">1615813895.684</span>    <span class=\"token number\">182</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.685</span>    <span class=\"token number\">151</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.686</span>    <span class=\"token number\">169</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.686</span>    <span class=\"token number\">169</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.686</span>    <span class=\"token number\">168</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.686</span>    <span class=\"token number\">175</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.686</span>    <span class=\"token number\">166</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.686</span>    <span class=\"token number\">147</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.686</span>    <span class=\"token number\">174</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.687</span>    <span class=\"token number\">177</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.687</span>    <span class=\"token number\">179</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.687</span>    <span class=\"token number\">182</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.687</span>    <span class=\"token number\">179</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.688</span>    <span class=\"token number\">147</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.689</span>    <span class=\"token number\">178</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.689</span>    <span class=\"token number\">180</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.690</span>    <span class=\"token number\">182</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.690</span>    <span class=\"token number\">184</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.691</span>    <span class=\"token number\">181</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813895.698</span>    <span class=\"token number\">180</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fonts.gstatic.com:443 - HIER_DIRECT/64.233.177.94 -\n<span class=\"token number\">1615813895.698</span>    <span class=\"token number\">177</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fonts.gstatic.com:443 - HIER_DIRECT/64.233.177.94 -\n<span class=\"token number\">1615813895.698</span>    <span class=\"token number\">178</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fonts.gstatic.com:443 - HIER_DIRECT/64.233.177.94 -\n<span class=\"token number\">1615813896.955</span>    <span class=\"token number\">802</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">10452</span> CONNECT hangouts.google.com:443 - HIER_DIRECT/108.177.122.113 -\n<span class=\"token number\">1615813897.635</span>    <span class=\"token number\">355</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">5169</span> CONNECT play.google.com:443 - HIER_DIRECT/74.125.136.102 -\n<span class=\"token number\">1615813897.688</span>    <span class=\"token number\">116</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813898.013</span>    <span class=\"token number\">376</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">5623</span> CONNECT play.google.com:443 - HIER_DIRECT/74.125.136.102 -\n<span class=\"token number\">1615813898.340</span>    <span class=\"token number\">185</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT lh3.googleusercontent.com:443 - HIER_DIRECT/74.125.136.132 -\n<span class=\"token number\">1615813904.410</span>    <span class=\"token number\">119</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813904.659</span>    <span class=\"token number\">371</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">3867</span> CONNECT www.gstatic.com:443 - HIER_DIRECT/173.194.219.94 -\n<span class=\"token number\">1615813916.240</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615813916.367</span>    <span class=\"token number\">367</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">3810</span> CONNECT www.google.com:443 - HIER_DIRECT/64.233.177.106 -\n<span class=\"token number\">1615813916.465</span>    <span class=\"token number\">360</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">3809</span> CONNECT www.google.com:443 - HIER_DIRECT/64.233.177.106 -\n<span class=\"token number\">1615813916.487</span>    <span class=\"token number\">384</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">3810</span> CONNECT www.google.com:443 - HIER_DIRECT/64.233.177.106 -\n<span class=\"token number\">1615813916.566</span>    <span class=\"token number\">363</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">3810</span> CONNECT www.google.com:443 - HIER_DIRECT/64.233.177.106 -\n<span class=\"token number\">1615813916.680</span>    <span class=\"token number\">519</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">10028</span> CONNECT signaler-pa.clients6.google.com:443 - HIER_DIRECT/142.250.105.95 -\n<span class=\"token number\">1615813986.186</span>     <span class=\"token number\">70</span> <span class=\"token number\">192.168</span>.200.1 NONE/503 <span class=\"token number\">0</span> CONNECT dit.gonzalonazareno.org:443 - HIER_NONE/- -\n<span class=\"token number\">1615813986.390</span> <span class=\"token number\">1101635</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">4126</span> CONNECT alive.github.com:443 - HIER_DIRECT/140.82.113.25 -\n<span class=\"token number\">1615813989.623</span>    <span class=\"token number\">120</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fonts.gstatic.com:443 - HIER_DIRECT/64.233.177.94 -\n<span class=\"token number\">1615813990.264</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615813992.967</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/503 <span class=\"token number\">0</span> CONNECT dit.gonzalonazareno.org:443 - HIER_NONE/- -\n<span class=\"token number\">1615813995.260</span>     <span class=\"token number\">62</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT cdn.jsdelivr.net:443 - HIER_DIRECT/199.232.58.109 -\n<span class=\"token number\">1615813995.261</span>    <span class=\"token number\">114</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT cdn.jsdelivr.net:443 - HIER_DIRECT/199.232.58.109 -\n<span class=\"token number\">1615813995.264</span>    <span class=\"token number\">120</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fp.josedomingo.org:443 - HIER_DIRECT/37.187.119.60 -\n<span class=\"token number\">1615813995.530</span>     <span class=\"token number\">37</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fp.josedomingo.org:443 - HIER_DIRECT/37.187.119.60 -\n<span class=\"token number\">1615813996.650</span>      <span class=\"token number\">1</span> <span class=\"token number\">192.168</span>.200.1 NONE/503 <span class=\"token number\">0</span> CONNECT dit.gonzalonazareno.org:443 - HIER_NONE/- -\n<span class=\"token number\">1615814003.322</span>    <span class=\"token number\">181</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fonts.googleapis.com:443 - HIER_DIRECT/74.125.21.95 -\n<span class=\"token number\">1615814003.326</span>    <span class=\"token number\">183</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fonts.googleapis.com:443 - HIER_DIRECT/74.125.21.95 -\n<span class=\"token number\">1615814003.628</span>    <span class=\"token number\">227</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fonts.gstatic.com:443 - HIER_DIRECT/64.233.177.94 -\n<span class=\"token number\">1615814005.442</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/503 <span class=\"token number\">0</span> CONNECT dit.gonzalonazareno.org:443 - HIER_NONE/- -\n<span class=\"token number\">1615814009.864</span>     <span class=\"token number\">36</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fp.josedomingo.org:443 - HIER_DIRECT/37.187.119.60 -</code></pre></div>\n<h2 id=\"tarea-3-configura-squid-para-que-pueda-ser-utilizado-desde-el-cliente-interno-en-el-cliente-interno-configura-el-proxy-desde-la-línea-de-comandos-con-una-variable-de-entorno-fíjate-que-no-hemos-puesto-ninguna-regla-snat-y-podemos-navegar-protocolo-http-pero-no-podemos-hacer-ping-o-utilizar-otro-servicio\"><a href=\"#tarea-3-configura-squid-para-que-pueda-ser-utilizado-desde-el-cliente-interno-en-el-cliente-interno-configura-el-proxy-desde-la-l%C3%ADnea-de-comandos-con-una-variable-de-entorno-f%C3%ADjate-que-no-hemos-puesto-ninguna-regla-snat-y-podemos-navegar-protocolo-http-pero-no-podemos-hacer-ping-o-utilizar-otro-servicio\" aria-label=\"tarea 3 configura squid para que pueda ser utilizado desde el cliente interno en el cliente interno configura el proxy desde la línea de comandos con una variable de entorno fíjate que no hemos puesto ninguna regla snat y podemos navegar protocolo http pero no podemos hacer ping o utilizar otro servicio permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 3: Configura squid para que pueda ser utilizado desde el cliente interno. En el cliente interno configura el proxy desde la línea de comandos (con una variable de entorno). Fíjate que no hemos puesto ninguna regla SNAT y podemos navegar (protocolo HTTP), pero no podemos hacer ping o utilizar otro servicio.</h2>\n<p>Configuraremos el proxy mediante la linea de comando añadiendo una nueva variable de entorno.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@debian10:~<span class=\"token comment\"># export http_proxy='http://10.0.0.10:3128'</span></code></pre></div>\n<p>Para poder verificar que tenemos salida hacia afuera descargaremos un documento.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@debian10:~<span class=\"token comment\"># wget https://fp.josedomingo.org/serviciosgs/u08/doc/squid/Vagrantfile</span>\n--2021-03-15 <span class=\"token number\">13</span>:20:30--  https://fp.josedomingo.org/serviciosgs/u08/doc/squid/Vagrantfile\nResolving fp.josedomingo.org <span class=\"token punctuation\">(</span>fp.josedomingo.org<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>. <span class=\"token number\">37.187</span>.119.60\nConnecting to fp.josedomingo.org <span class=\"token punctuation\">(</span>fp.josedomingo.org<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token number\">37.187</span>.119.60<span class=\"token operator\">|</span>:443<span class=\"token punctuation\">..</span>. connected.\nHTTP request sent, awaiting response<span class=\"token punctuation\">..</span>. <span class=\"token number\">200</span> OK\nLength: <span class=\"token number\">541</span>\nSaving to: ‘Vagrantfile’\n\nVagrantfile            <span class=\"token number\">100</span>%<span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>     <span class=\"token number\">541</span>  --.-KB/s    <span class=\"token keyword\">in</span> 0s      \n\n<span class=\"token number\">2021</span>-03-15 <span class=\"token number\">13</span>:20:30 <span class=\"token punctuation\">(</span><span class=\"token number\">6.56</span> MB/s<span class=\"token punctuation\">)</span> - ‘Vagrantfile’ saved <span class=\"token punctuation\">[</span><span class=\"token number\">541</span>/541<span class=\"token punctuation\">]</span>\n\nroot@debian10:~<span class=\"token comment\"># ls</span>\nVagrantfile</code></pre></div>\n<p>Comprobaremos si tenemos acceso mediante ping.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@debian10:~<span class=\"token comment\"># ping fp.josedomingo.org</span>\nPING endor.josedomingo.org <span class=\"token punctuation\">(</span><span class=\"token number\">37.187</span>.119.60<span class=\"token punctuation\">)</span> <span class=\"token number\">56</span><span class=\"token punctuation\">(</span><span class=\"token number\">84</span><span class=\"token punctuation\">)</span> bytes of data.\n^C\n--- endor.josedomingo.org <span class=\"token function\">ping</span> statistics ---\n<span class=\"token number\">2</span> packets transmitted, <span class=\"token number\">0</span> received, <span class=\"token number\">100</span>% packet loss, <span class=\"token function\">time</span> 219ms</code></pre></div>\n<h2 id=\"tarea-4-con-squid-podemos-filtrar-el-acceso-por-url-o-dominios-realiza-las-configuraciones-necesarias-para-implementar-un-filtro-que-funcione-como-lista-negra-todo-el-acceso-es-permitido-menos-las-url-o-dominios-que-indiquemos-en-un-fichero\"><a href=\"#tarea-4-con-squid-podemos-filtrar-el-acceso-por-url-o-dominios-realiza-las-configuraciones-necesarias-para-implementar-un-filtro-que-funcione-como-lista-negra-todo-el-acceso-es-permitido-menos-las-url-o-dominios-que-indiquemos-en-un-fichero\" aria-label=\"tarea 4 con squid podemos filtrar el acceso por url o dominios realiza las configuraciones necesarias para implementar un filtro que funcione como lista negra todo el acceso es permitido menos las url o dominios que indiquemos en un fichero permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 4: Con squid podemos filtrar el acceso por url o dominios, realiza las configuraciones necesarias para implementar un filtro que funcione como lista negra (todo el acceso es permitido menos las url o dominios que indiquemos en un fichero.)</h2>\n<p>Modificaremos la configuración de <strong>Squid</strong> nuevamente añadiendo los parámetros esenciales para usar la función de <strong>lista negra</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># nano /etc/squid/squid.conf</span>\nacl domain_blacklist dstdomain <span class=\"token string\">\"/etc/squid/domain_blacklist.txt\"</span>\nhttp_access deny domain_blacklist</code></pre></div>\n<p>Procederemos a crear el fichero anteriormente puesto en la configuración de <strong>Squid</strong> e indicaremos el dominio y sus subdominios a los que queremos denegar su acceso.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># nano /etc/squid/domain_blacklist.txt</span>\n.europa.eu</code></pre></div>\n<p>Y nuevamente reiniciamos el servicio.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># systemctl restart squid</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/ddd864a9164b32f2aeb03f1a3089fc48/f570d/proxy5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAAEPUlEQVQ4y42Ta0xbZRjH+21DNzVxH/yyZJmMbW4DjYluxkzGhFFKiwVBGJd2MMCwZEYXJV4TP/nZyJyDRSNiucvGJQ5lMGDlIuPSAYVCoe3p5Zze7wyK9u9zDrK5xcma/POe8/R9fud5/u/7iEqV+TijyIsWF+bhnSwpsiSnkJstR15OJt6SiiGjd5kkFekpiZClJSM9LUWIyWUSYU+JsgClxQooCnKjp3OzIXpV8m40ObsCJ+Sl0ROZZUgi8Wui/CxOvl2OlJwKvJFRgmPiArwmKbqnY2mFOCouxCun8nE0NT/Kr/LCiqjouewfEKesw7OZV/BMRjV2ZV0RnndILyNG8h22iS8JejL9MnZKq/EU7eHXHaSdsmo8nVGD7WmXIHr9a8QrayA6VFaPI+UN2FtUh1hFHQ4Uq7BP+TNBaxBDG3ltF39LSSTxRWxLraK1CjH0/ATFeMWkXYQo6Ru8XELAr6r6UfXjCCa1eoxqFjE8OY/x2SUYWR+WbV4smF2YNdgxvcxhQmfG4NQiesa06FTfQdvAJK72j5MmcJWem7sHIFLVq9HdrcFqyAOf0w6f2wGf141H/SJ/rsMVCELPOqG3smBdblgcTthoHZ3SQHS+34gLI3a8p3bivNqBD4ed+PK2G1+MOu7pc1605zPSp8OcoE+GOJy7aUNZrwXlvWac7WNR+es0RHtVRuypZxDbYMKuWgPO3XKA9YahdwZhcodhdIdg8a4IcoXXsPYXVUkKRKI43mHDbhWDfY0MdjdakayiCl9sNiKh1YyXSPvpj8I+O5oWvPhJ60HtrBvfT7vQqvfjmiGIDmMInaYwKYQ2QwiJHVYcamYol8ELrVbIGgkY32TE4RYz4klxBMy8biWYG7UEvEaAHutdSLs5KG+waJxzo2HBL0Bbl0M43m7FwSYGCS0M9rdYkf5vYAIptoGBspfFgMGDQcYPnXcNpkAERTfJ21sc/mC8GGNDWA6sY8azhpOdVhzYCniGgCOMD1P2sJBoCa1DQcALgyw0Vj9mXHdhDK5jzssDbf8PfJ6AxQScoEQtJZoo0b6yAaxUc9DZg1T1Ksz0Eb0/gje7bFtXyHulNnlxm1rT+SIEjdBBbbQ8bvFBbQlgkeKP3TLvYb/BiyFLEFpKWvJvAN8fYDFMH1JTfJ6AGtcqkrYCbrY8RpVMUIUG8tAWXhcOpXLIDi0XgMYRBkNW6HxUYddjeFjSt+HhHUrkPeT+8fAjanneHsAkFxI8XNzKQ/4extI9LCIPbyx50E/XZpZa5v0qoMv+wSCHUbMPPQYfZtyrmPqvlhseUeGYmW85CCZ0/5Q/ppbnqOVZ14pwlR4+5bhmC7La5h6skJ/JnN9Y1NGkNNJEtNNEXGfCyPydE4a/RecRJqWLYr8YHpyUuCYLcjoW7wMP00weoZWfzYPNZmEjP9u8+NjDcb6yzZz4TWD7Av4GYw7XJeQOVVkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"antes de la configuración de la proxy lista negra\"\n        src=\"/gatsbyjs/static/ddd864a9164b32f2aeb03f1a3089fc48/36727/proxy5.png\"\n        srcset=\"/gatsbyjs/static/ddd864a9164b32f2aeb03f1a3089fc48/acf4b/proxy5.png 173w,\n/gatsbyjs/static/ddd864a9164b32f2aeb03f1a3089fc48/fc834/proxy5.png 345w,\n/gatsbyjs/static/ddd864a9164b32f2aeb03f1a3089fc48/36727/proxy5.png 690w,\n/gatsbyjs/static/ddd864a9164b32f2aeb03f1a3089fc48/f570d/proxy5.png 960w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/b13f7ce9ff1e47372f8e4734d661debf/f570d/proxy4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAABhUlEQVQ4y+WUy07CQBSG+yQqJKaX6X16BRU3LgxJhSIEYyEovoBLV+59aH7nTGkDWolEXBgXX/4z58z8OdOeVnl6mGM+m63mxT3y4QA3/T5uRyNMJhPkeS51PB5jNMzK+mCALMskVFssFlguH1EUxWo6nULxPb4KghjcD1ehUEmYSIKNOAwiRDJOEUUllOc8gi/O0l5SRdNMaKpAqCpUlcoa+Dqvrc+QKoZh45D8jqGuWz82qjyUKiD9yHfzW4aH6HDTtDa0LA+Ow+G6gdQKWtu2L7WEy3VZ4/C8EIw5nzukzTRjQZDUynksdZOqRnPo+5E0a7yybXtyQ2kSy3gXzHRhMA+q7kDT6er0PO3tK6fpeU2320OncyEoY4LySXImNeQhQsdA7BrwbKs23Xop1H4TpuiGkGuKmejG66F1/Yp29oZ2cgemqtANZ/fYNCM60RhOzRRHl884vnpBKxiCaVppuP/YCFNSnYGdtgQnwkxd56z9P73qoC5jd41T5/7Iz+F/Gb4DXLGKuACQhtEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"configuración de la proxy lista negra\"\n        src=\"/gatsbyjs/static/b13f7ce9ff1e47372f8e4734d661debf/36727/proxy4.png\"\n        srcset=\"/gatsbyjs/static/b13f7ce9ff1e47372f8e4734d661debf/acf4b/proxy4.png 173w,\n/gatsbyjs/static/b13f7ce9ff1e47372f8e4734d661debf/fc834/proxy4.png 345w,\n/gatsbyjs/static/b13f7ce9ff1e47372f8e4734d661debf/36727/proxy4.png 690w,\n/gatsbyjs/static/b13f7ce9ff1e47372f8e4734d661debf/f570d/proxy4.png 960w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Como podemos ver ahora no podemos acceder a <a href=\"https://europa.eu/\">https://europa.eu/</a> ya que nuestro proxy lo esta denegando.</p>\n<h2 id=\"tarea-5-realiza-las-configuraciones-necesarias-para-implementar-un-filtro-que-funcione-como-lista-blanca-todo-el-acceso-es-denegado-menos-las-url-o-dominios-que-indiquemos-en-un-fichero\"><a href=\"#tarea-5-realiza-las-configuraciones-necesarias-para-implementar-un-filtro-que-funcione-como-lista-blanca-todo-el-acceso-es-denegado-menos-las-url-o-dominios-que-indiquemos-en-un-fichero\" aria-label=\"tarea 5 realiza las configuraciones necesarias para implementar un filtro que funcione como lista blanca todo el acceso es denegado menos las url o dominios que indiquemos en un fichero permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 5: Realiza las configuraciones necesarias para implementar un filtro que funcione como lista blanca (todo el acceso es denegado menos las url o dominios que indiquemos en un fichero.)</h2>\n<p>Añadiremos los parámetros necesarios para poder hacer uso de una <strong>whitelist</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># nano /etc/squid/squid.conf</span>\nacl domain_whitelist dstdomain <span class=\"token string\">\"/etc/squid/domain_whitelist.txt\"</span>\nhttp_access deny <span class=\"token operator\">!</span>domain_whitelist</code></pre></div>\n<p>Crearemos el nuevo documento y le pondremos acceso solo a .josedomingo.org</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># nano /etc/squid/domain_whitelist.txt</span>\n.josedomingo.org</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/458d4707c614ca76f7807b2d21375c9a/f570d/proxy6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQ4y+VU207CQBDtjxh9AFu20Mvu9kKRxCdfiCCWNk0sKOmH+B9+bI+7a29ISSDRB+PDyZk5s3M67U6qFfsddtttuctf8Lx+wmqxQLLZIEkSxHGMVHCapojXS6FtVLwW5x6XK8RZjv3bK4qiQJ7nZZZl0KjLSs4DMOqVnmAFL1TgndjjfhP7/hS+0kQf80FFrzwrWTOMMQxdQLAuWFds9mDcq7W9pmKNEAs/id8xHI0mRwWp9el953oNz2k+x1TrmtXxpej2HryyZVHYNqtAm1yy4/CmJvNam0zcwwm7howFCpyHiin11Z61cVuTLM26/UcTyqYgmAlECMM7scCRgsylXudcGFoWgzmWhvaBqdb9sK7rNUZRNFcm0+m8QRh+PcwXOncpuGMJfDO8+ELERKau42a2x3X8gauHdxjEAVG1nlvuW6PWzFIgIxND+x6DMMGALSqtMjy1oCdRNRKDgNwO1bSNVl/K2QvcTFhPax9pf+Tn8L8MPwFCR4nOXBQMrgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"configuración de la proxy lista blanca denegado\"\n        src=\"/gatsbyjs/static/458d4707c614ca76f7807b2d21375c9a/36727/proxy6.png\"\n        srcset=\"/gatsbyjs/static/458d4707c614ca76f7807b2d21375c9a/acf4b/proxy6.png 173w,\n/gatsbyjs/static/458d4707c614ca76f7807b2d21375c9a/fc834/proxy6.png 345w,\n/gatsbyjs/static/458d4707c614ca76f7807b2d21375c9a/36727/proxy6.png 690w,\n/gatsbyjs/static/458d4707c614ca76f7807b2d21375c9a/f570d/proxy6.png 960w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/db4512b37e64402cfa6475df2687585f/f570d/proxy7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAACE0lEQVQ4y62U228SQRTG5w8xalNZC7Slomli+lAfjIkBqkUWolC0sIVW2hhv/6exrU/2wYdyWQrCXmDvn2cWqTUtxoVO8ss5mZn95ttzZpdVpW0UCgVvK59H5kUa6Y0UcrkskUMum4UoikilNpB4+gTJZAKJZBIp4tlmGuLLLZRL25AkCcVi0cvnX4E9WH3orT96jLW1dY9yCOElhHyW/ShEYrgbjSGydA+Lsfs+sfgqostxyuNYWFzhuccj7fdYrXaADx8/4937T9h9e4BiaQdvpCpelyt/KFVQ2tlDuTJCqtZQuhAre/u0vuvvYZ3TH5BbLTSaLZzW6zAMA5ZlYtrBhoaJ4dCAbdswTBO6rkNRVGiaRvNDuK4Lz/P+G/b95ARfvh7i6PgbDo+O0Wg0cdbpkOMm5HZ7opOJgoPBAKqqotfrod/v+05NcmpZlp9zlxfR6A14HIleds865KZJbnhsUS3H1OsNyLJMuUzrozm+j0d+MBdzHJtwzuHlYSrVStEG8OhEF7MPZtFr9XULysCBZjiBGnBlDbvdn5C7CkwH0E0Xhv33hsAOXXqoq7toq47PGcFFx50MLuhyVy5MEjF+MxaaSvBf92yqpkwq7tQOZ+3qpS7jmod/D/knZtNNt+3ZYelMFqlNEYnnGSSvATYvhDEXiuDWnfA5t0Nh3JxfwI05ITAsRL94IbpyBTHwtaD8Al4acXTpRACMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"configuración de la proxy lista blanca aceptado\"\n        src=\"/gatsbyjs/static/db4512b37e64402cfa6475df2687585f/36727/proxy7.png\"\n        srcset=\"/gatsbyjs/static/db4512b37e64402cfa6475df2687585f/acf4b/proxy7.png 173w,\n/gatsbyjs/static/db4512b37e64402cfa6475df2687585f/fc834/proxy7.png 345w,\n/gatsbyjs/static/db4512b37e64402cfa6475df2687585f/36727/proxy7.png 690w,\n/gatsbyjs/static/db4512b37e64402cfa6475df2687585f/f570d/proxy7.png 960w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Comprobación de Logs:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@proxy:~<span class=\"token comment\"># cat /var/log/squid/access.log </span>\n<span class=\"token number\">1615837540.838</span>    <span class=\"token number\">481</span> <span class=\"token number\">192.168</span>.200.1 TCP_TUNNEL/200 <span class=\"token number\">39</span> CONNECT fp.josedomingo.org:443 - HIER_DIRECT/37.187.119.60 -\n<span class=\"token number\">1615837548.613</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615837548.613</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615837548.809</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3872</span> CONNECT apidata.googleusercontent.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837548.813</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3872</span> CONNECT apidata.googleusercontent.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837548.934</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615837548.934</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615837549.056</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3872</span> CONNECT apidata.googleusercontent.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837549.062</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3872</span> CONNECT apidata.googleusercontent.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837549.062</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3872</span> CONNECT apidata.googleusercontent.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837549.071</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3872</span> CONNECT apidata.googleusercontent.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837549.567</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3868</span> CONNECT accounts.google.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837565.705</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615837565.705</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 NONE/000 <span class=\"token number\">0</span> NONE error:transaction-end-before-headers - HIER_NONE/- -\n<span class=\"token number\">1615837566.619</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3843</span> CONNECT www.imf.org:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837566.620</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3861</span> CONNECT www.ecb.europa.eu:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837567.829</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">4004</span> CONNECT profile.accounts.firefox.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837567.857</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3998</span> CONNECT token.services.mozilla.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837567.871</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">4049</span> CONNECT sync-1-us-west1-g.sync.services.mozilla.com:443 - HIER_NONE/- text/html\n<span class=\"token number\">1615837661.673</span>      <span class=\"token number\">0</span> <span class=\"token number\">192.168</span>.200.1 TCP_DENIED/403 <span class=\"token number\">3968</span> CONNECT cdn.jsdelivr.net:443 - HIER_NONE/- text/html</code></pre></div>\n<br>\n<hr>\n<br>\n<center><img alt=\"Balanceadores de carga\" src=\"https://blogs.masterhacks.net/wp-content/uploads/2018/09/masterhaks_balanceador_carga.png\"></center>\n<h1 id=\"balanceadores-de-carga\"><a href=\"#balanceadores-de-carga\" aria-label=\"balanceadores de carga permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Balanceadores de carga</h1>\n<ul>\n<li><a href=\"https://fp.josedomingo.org/serviciosgs/u08/doc/haproxy/vagrant.zip\">Escenario</a>(Modificar en el Vagrantfile debian/buster64 por generic/debian10 y las rutas de los archivos.)</li>\n</ul>\n<h2 id=\"tarea-1-entrega-capturas-de-pantalla-que-el-balanceador-está-funcionando\"><a href=\"#tarea-1-entrega-capturas-de-pantalla-que-el-balanceador-est%C3%A1-funcionando\" aria-label=\"tarea 1 entrega capturas de pantalla que el balanceador está funcionando permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 1: Entrega capturas de pantalla que el balanceador está funcionando.</h2>\n<p>El primer paso es arrancar el escenario e instalar el paquete HAproxy.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@balanceador:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> haproxy</code></pre></div>\n<p>Configuración de HAproxy.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@balanceador:~$ <span class=\"token builtin class-name\">cd</span> /etc/haproxy/\nvagrant@balanceador:/etc/haproxy$ <span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> haproxy.cfg \n\nglobal\n    daemon\n    maxconn <span class=\"token number\">256</span>\n    user    haproxy\n    group   haproxy\n    log     <span class=\"token number\">127.0</span>.0.1       local0\n    log     <span class=\"token number\">127.0</span>.0.1       local1  notice\ndefaults\n    mode    http\n    log     global\n    <span class=\"token function\">timeout</span> connect 5000ms\n    <span class=\"token function\">timeout</span> client  50000ms\n    <span class=\"token function\">timeout</span> server  50000ms\nlisten granja_cda\n    <span class=\"token builtin class-name\">bind</span> <span class=\"token number\">192.168</span>.43.17:80 <span class=\"token comment\">#ip del balanceador</span>\n    mode http\n    stats <span class=\"token builtin class-name\">enable</span>\n    stats auth  cda:cda\n    balance roundrobin\n    server uno <span class=\"token number\">10.10</span>.10.11:80 maxconn <span class=\"token number\">128</span>\n    server dos <span class=\"token number\">10.10</span>.10.22:80 maxconn <span class=\"token number\">128</span></code></pre></div>\n<p>Habilitamos el arranque desde el inicio.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@balanceador:/etc/haproxy$ <span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /etc/default/haproxy \n<span class=\"token assign-left variable\">ENABLED</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></code></pre></div>\n<p>Iniciamos y comprobamos el servicio Haproxy.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@balanceador:/etc/haproxy$ <span class=\"token function\">sudo</span> systemctl start haproxy\nvagrant@balanceador:/etc/haproxy$ <span class=\"token function\">sudo</span> systemctl status haproxy\n● haproxy.service - HAProxy Load Balancer\n   Loaded: loaded <span class=\"token punctuation\">(</span>/lib/systemd/system/haproxy.service<span class=\"token punctuation\">;</span> enabled<span class=\"token punctuation\">;</span> vendor preset: enabled<span class=\"token punctuation\">)</span>\n   Active: active <span class=\"token punctuation\">(</span>running<span class=\"token punctuation\">)</span> since Tue <span class=\"token number\">2021</span>-03-16 08:54:10 UTC<span class=\"token punctuation\">;</span> 4min 5s ago\n     Docs: man:haproxy<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n           file:/usr/share/doc/haproxy/configuration.txt.gz\n Main PID: <span class=\"token number\">1653</span> <span class=\"token punctuation\">(</span>haproxy<span class=\"token punctuation\">)</span>\n    Tasks: <span class=\"token number\">2</span> <span class=\"token punctuation\">(</span>limit: <span class=\"token number\">2359</span><span class=\"token punctuation\">)</span>\n   Memory: <span class=\"token number\">2</span>.2M\n   CGroup: /system.slice/haproxy.service\n           ├─1653 /usr/sbin/haproxy -Ws -f /etc/haproxy/haproxy.cfg -p /run/haproxy.pid\n           └─1654 /usr/sbin/haproxy -Ws -f /etc/haproxy/haproxy.cfg -p /run/haproxy.pid\n\nMar <span class=\"token number\">16</span> 08:54:10 balanceador systemd<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>: Starting HAProxy Load Balancer<span class=\"token punctuation\">..</span>.\nMar <span class=\"token number\">16</span> 08:54:10 balanceador systemd<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>: Started HAProxy Load Balancer.</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/10e68c971c748e25779783ba7e1d8e54/d418b/balanceo1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.82744282744282%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAByElEQVQoz42Ry04aURyH51kwECABAmWDNQYEa5BYYaBydTQWfDpdYZMusNQUBoKEHTPgkHInIT4D+XrmpDVdepIvv//93JRyucz19TW2ZjIZTpNJwuEwfr8fn8/3hu3/TyAQIBQK8TFyQPbwhlgsJlFKpSKXlQpZVQxLHJM5+0xGVUmKwfF4nJOTE44TCaKHB7IhGo1ydBQjIWKpVAo1q1IqF+WBcrkciq63aTQadLsd9HaLjq7TarVot9v0+31Jt9PBGptYkwmWZTGZWLy8vEjG4xGGOcQ0TYbDIcpj84n6t+/8ando/HgS/OTu7o77+3vq9ToPDw9SDcNkNBrJxn9qmAbG0OS3uRR5Q26gXOQLXGpXqLkv4popcb1PBINBvF4vLpdL4na7cezt4XA43nA6nXg8HkLBDyQjOfb3IxKlWv3Kba2KVilzIT6lUiyiXV1RyOfJZrMUCgWhKudnp6RFPp0+l59n54qyVqN6e0OtVkPTNJRer0ez2WQwGPAsbNu331AXb2nHbO33n9mslqzWa1arlWS5XLJYLJjP58xnc2azGdPpFGW73TITxuvrK+vNBtu3i+zitRgw/Zt771LeW7jb7d7FH1sc+nyPmlH6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"demostracion de practica resuelta balanceo\"\n        src=\"/gatsbyjs/static/10e68c971c748e25779783ba7e1d8e54/36727/balanceo1.png\"\n        srcset=\"/gatsbyjs/static/10e68c971c748e25779783ba7e1d8e54/acf4b/balanceo1.png 173w,\n/gatsbyjs/static/10e68c971c748e25779783ba7e1d8e54/fc834/balanceo1.png 345w,\n/gatsbyjs/static/10e68c971c748e25779783ba7e1d8e54/36727/balanceo1.png 690w,\n/gatsbyjs/static/10e68c971c748e25779783ba7e1d8e54/d418b/balanceo1.png 962w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"tarea-2-entrega-una-captura-de-pantalla-donde-se-vea-la-página-web-de-estadísticas-de-haproxy-abrir-en-un-navegador-web-la-url-http17222xxhaproxystats-pedirá-un-usuario-y-un-password-ambos-cda\"><a href=\"#tarea-2-entrega-una-captura-de-pantalla-donde-se-vea-la-p%C3%A1gina-web-de-estad%C3%ADsticas-de-haproxy-abrir-en-un-navegador-web-la-url-http17222xxhaproxystats-pedir%C3%A1-un-usuario-y-un-password-ambos-cda\" aria-label=\"tarea 2 entrega una captura de pantalla donde se vea la página web de estadísticas de haproxy abrir en un navegador web la url http17222xxhaproxystats pedirá un usuario y un password ambos cda permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 2: Entrega una captura de pantalla donde se vea la página web de estadísticas de haproxy (abrir en un navegador web la URL <a href=\"http://172.22.x.x/haproxy?stats\">http://172.22.x.x/haproxy?stats</a>, pedirá un usuario y un password, ambos cda).</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/45e9a0b363e71c3599fbc5dfa1909612/f570d/balanceo2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAC4jAAAuIwF4pT92AAABrklEQVQ4y6WT3XLaMBCF/RDcWZItW5JlwAb8H9sYk5Q2nUz9Ar3uC+QyT58ji4RkmmGmdOdDLLDrXe0enOnX0/E43h+PfdfURdF1bdM0VVWCvCiy3SbPdlluLMvMe9/3Dw/3p9PpcDg4SZIKoaSMlNKWKIqB1ksdr6JIaz37b9gYxAPHJR6ZcS0uYFc5xwOHUv9mHDzg9mTfD29PllL/XZwQRoh1ztdjjM8EOC/JQkSM+WEopFRCSDggTTeFsRJUVYUTM1cqwvARA4JAmIGFoYI3TRMWi01ijfv9Hjscx/FgbTR+38FavBAwDPs4XmLyJhl7fnz8MQxD17Z106BinhdGFVYb82m+nDH9lCWEYJI5R5+yrmvoDEXzslkl269Jd4Zkm25zqZYEyWgdyfZ5bdeP377jmig3X/jdStSu0dXdXVXVaF5FGmoxIsHAfD9AG6ef05/nl+V6SwgNhUqSjWW9PqOkApyft/tJYb4XeOzy8W093PMC6xA/JsHa9RSlZrsOfris96okCOWL3e9F97xYPUEGlPKvRXIl36X8vYaZ9s3ydhj7j3/VR63+K680OagdcByi5wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"demostracion de practica resuelta balanceo\"\n        src=\"/gatsbyjs/static/45e9a0b363e71c3599fbc5dfa1909612/36727/balanceo2.png\"\n        srcset=\"/gatsbyjs/static/45e9a0b363e71c3599fbc5dfa1909612/acf4b/balanceo2.png 173w,\n/gatsbyjs/static/45e9a0b363e71c3599fbc5dfa1909612/fc834/balanceo2.png 345w,\n/gatsbyjs/static/45e9a0b363e71c3599fbc5dfa1909612/36727/balanceo2.png 690w,\n/gatsbyjs/static/45e9a0b363e71c3599fbc5dfa1909612/f570d/balanceo2.png 960w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/d1cb322f87d2182390025e5a81d58838/a987b/balanceo3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABXUlEQVQoz82QzU7CQBSF+17YEsANSowu3Brji6kI6FOQaAj4AxVRFJLSYjUGUDRgC23Bfk6pRNyzcJIvZ+49ZyZzR9rZ3WNjY5N4LEE8sYosR4lEFBQlKlAWiCL/qRXkFZlELEYyucZWapvUegqpmL+jdHZP8axBqdBEVTXKFQ3d0Gk/tnk0Q4y2LnqtWd8QagjV9RZPpvGT0TGFSn3zBavXx7PsGXy5Ib6Ha/UZ9nt8vr/BdPzrzZk62IMBTBysjyHuyEUq5Qvo3VdepxN6nkfHdek4jqinNHsdyppG1WjzbNt0A1943SDjeqJ2aHRsniwH83NM1/aQ0hdFcrUKR9VLsrcVMrUyh+o52TuVtOjvB/ubq1k/U7sS2TIH1xfk6tfkROa4XuHkoUq2rnJqakjBc/HEOO4CzkiowLFDAn+WGYU6tsPc/Nzcm4iRfcR3LRHJ932WicSS1/+/8Bs7nSHWCDBn/QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"demostracion de practica resuelta balanceo\"\n        src=\"/gatsbyjs/static/d1cb322f87d2182390025e5a81d58838/36727/balanceo3.png\"\n        srcset=\"/gatsbyjs/static/d1cb322f87d2182390025e5a81d58838/acf4b/balanceo3.png 173w,\n/gatsbyjs/static/d1cb322f87d2182390025e5a81d58838/fc834/balanceo3.png 345w,\n/gatsbyjs/static/d1cb322f87d2182390025e5a81d58838/36727/balanceo3.png 690w,\n/gatsbyjs/static/d1cb322f87d2182390025e5a81d58838/17fa4/balanceo3.png 1035w,\n/gatsbyjs/static/d1cb322f87d2182390025e5a81d58838/a5044/balanceo3.png 1380w,\n/gatsbyjs/static/d1cb322f87d2182390025e5a81d58838/a987b/balanceo3.png 1920w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"tarea-3-desde-uno-de-los-servidores-apache1-ó-apache2-verificar-los-logs-del-servidor-apache-en-todos-los-casos-debería-figurar-como-única-dirección-ip-cliente-la-ip-interna-de-la-máquina-balanceador-1010101-¿por-qué\"><a href=\"#tarea-3-desde-uno-de-los-servidores-apache1-%C3%B3-apache2-verificar-los-logs-del-servidor-apache-en-todos-los-casos-deber%C3%ADa-figurar-como-%C3%BAnica-direcci%C3%B3n-ip-cliente-la-ip-interna-de-la-m%C3%A1quina-balanceador-1010101-%C2%BFpor-qu%C3%A9\" aria-label=\"tarea 3 desde uno de los servidores apache1 ó apache2 verificar los logs del servidor apache en todos los casos debería figurar como única dirección ip cliente la ip interna de la máquina balanceador 1010101 ¿por qué permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 3: Desde uno de los servidores (apache1 ó apache2), verificar los logs del servidor Apache. En todos los casos debería figurar como única dirección IP cliente la IP interna de la máquina balanceador 10.10.10.1. ¿Por qué?</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@apache1:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">tail</span> -f /var/log/apache2/access.log \n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:03:00 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span>\n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:03:01 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span>\n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:03:01 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span>\n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:03:01 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span>\n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:03:01 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span>\n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:03:01 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span>\n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:03:01 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span>\n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:03:02 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span>\n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:03:16 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span>\n<span class=\"token number\">10.10</span>.10.1 - - <span class=\"token punctuation\">[</span><span class=\"token number\">16</span>/Mar/2021:09:07:04 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET /favicon.ico HTTP/1.1\"</span> <span class=\"token number\">404</span> <span class=\"token number\">436</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\"</span></code></pre></div>\n<p>Esto es debido al tipo de balanceo <strong>Roundrobin</strong> que es el encargado de realizar las peticiones, son distribuidas entre los servidores de forma cíclica, independientemente de la carga del servidor. Distribuye las peticiones de forma ecuánime pero la carga no.</p>\n<h2 id=\"tarea-4verificar-la-estructura-y-valores-de-las-cookies-phpsessid-intercambiadas-en-la-primera-respuesta-http-inicio-de-sesión-se-establece-su-valor-con-un-parámetro-http-setcookie-en-la-cabecera-de-la-respuesta-las-sucesivas-peticiones-del-cliente-incluyen-el-valor-de-esa-cookie-parámetro-http-cookie-en-la-cabecera-de-las-peticiones\"><a href=\"#tarea-4verificar-la-estructura-y-valores-de-las-cookies-phpsessid-intercambiadas-en-la-primera-respuesta-http-inicio-de-sesi%C3%B3n-se-establece-su-valor-con-un-par%C3%A1metro-http-setcookie-en-la-cabecera-de-la-respuesta-las-sucesivas-peticiones-del-cliente-incluyen-el-valor-de-esa-cookie-par%C3%A1metro-http-cookie-en-la-cabecera-de-las-peticiones\" aria-label=\"tarea 4verificar la estructura y valores de las cookies phpsessid intercambiadas en la primera respuesta http inicio de sesión se establece su valor con un parámetro http setcookie en la cabecera de la respuesta las sucesivas peticiones del cliente incluyen el valor de esa cookie parámetro http cookie en la cabecera de las peticiones permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 4:Verificar la estructura y valores de las cookies PHPSESSID intercambiadas. En la primera respuesta HTTP (inicio de sesión), se establece su valor con un parámetro HTTP SetCookie en la cabecera de la respuesta. Las sucesivas peticiones del cliente incluyen el valor de esa cookie (parámetro HTTP Cookie en la cabecera de las peticiones)</h2>\n<p>Modificaremos nuestro fichero de configuración de <strong>Haproxy</strong> y le añadiremos \"cookie PHPSESSID prefix\", debería queda así:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@balanceador:/etc/haproxy$ <span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> haproxy.cfg \n\nglobal\n    daemon\n    maxconn <span class=\"token number\">256</span>\n    user    haproxy\n    group   haproxy\n    log     <span class=\"token number\">127.0</span>.0.1       local0\n    log     <span class=\"token number\">127.0</span>.0.1       local1  notice\ndefaults\n    mode    http\n    log     global\n    <span class=\"token function\">timeout</span> connect 5000ms\n    <span class=\"token function\">timeout</span> client  50000ms\n    <span class=\"token function\">timeout</span> server  50000ms\nlisten granja_cda\n    <span class=\"token builtin class-name\">bind</span> <span class=\"token number\">192.168</span>.43.17:80 <span class=\"token comment\">#ip del balanceador</span>\n    mode http\n    stats <span class=\"token builtin class-name\">enable</span>\n    stats auth  cda:cda\n    balance roundrobin\n    cookie PHPSESSID prefix\n    server uno <span class=\"token number\">10.10</span>.10.11:80 maxconn <span class=\"token number\">128</span>\n    server dos <span class=\"token number\">10.10</span>.10.22:80 maxconn <span class=\"token number\">128</span></code></pre></div>\n<p>Reiniciamos servicio.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@balanceador:/etc/haproxy$ <span class=\"token function\">sudo</span> systemctl restart haproxy</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/68fdbcf502925daa643dbc6eeb8dbc14/88829/balanceo4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.54413291796469%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB70lEQVQoz62R227aQBCG93UItDccqjhAAWMTyUBSoAmmGKcnNVIvUarmwZBAoinQi5QC5nDHGyDAgMPhgtPf3aW5TqV2pU8z45FnV/ORzBsN2ZwONZPF+askEskUJElCIBBAMBiEw+GAzWaD7ejoEP9gt9vx7LkDJx4/YkIGJz4BgiCAaFoWOU3DxesUopKMz9fX+Hp7iy83N8jn84jFYhBDIchiEJIs88sYiqIgHo8jraah6Vnouo5kMglSrVZRLBZxd/cNP+/vwervlQoqlHq9jm63i26nQ2kfckqv1+OxQ7+32220WgbPy+UyiGXNYFkW/sdZrVYg05lFBz7gYb6A9TDHjNamaWI8Hj/JaDSijGEOpzAnJvr9Poj+7iPefviE3NV7XKpZKLEzHAvHcLvdHJfLxXEynE7KoWY9zwsPxJcyUuIVRCmEEN01SV9eIEMXmzg/Q4RaVU5PoUSjkKkAURS5bZ/XC79XgN/vp/g44XAYkUgEiUQCKv1fVVUukLBFFgoFlEol/KBCqlQGE1Or1dBsNmEYBlosNn+hRXPDaFEJB1i/0WhweSxncsl0OgVjv9//s5T5fA7CBCwWCyyXS0wmEyplxi9Yr9fY7XbYbrd/BTuDwQCEFZvNhsOGPEY2jB328qde/9gfDof4DTe2nz/6GaP8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"demostracion de practica resuelta balanceo4\"\n        src=\"/gatsbyjs/static/68fdbcf502925daa643dbc6eeb8dbc14/36727/balanceo4.png\"\n        srcset=\"/gatsbyjs/static/68fdbcf502925daa643dbc6eeb8dbc14/acf4b/balanceo4.png 173w,\n/gatsbyjs/static/68fdbcf502925daa643dbc6eeb8dbc14/fc834/balanceo4.png 345w,\n/gatsbyjs/static/68fdbcf502925daa643dbc6eeb8dbc14/36727/balanceo4.png 690w,\n/gatsbyjs/static/68fdbcf502925daa643dbc6eeb8dbc14/88829/balanceo4.png 963w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/440c1847cce911ec422533f5ef647799/a987b/balanceo5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.854166666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAdklEQVQI142LQRIDIQgE9/9PykNyzgPW1K6iggIT5bTHTFUXzaBHOk/kO+Ne5FyCSoTvRUhZUAqhd0ZrHSIDtbZwZlm7xG13RDX+Hq93wScN7MypixlupoBbuLtDVWOOMRYz3Myi3x0zBweJQ9TxzH4c8+H/5ge+b+slnE0zAQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"demostracion de practica resuelta balanceo5\"\n        src=\"/gatsbyjs/static/440c1847cce911ec422533f5ef647799/36727/balanceo5.png\"\n        srcset=\"/gatsbyjs/static/440c1847cce911ec422533f5ef647799/acf4b/balanceo5.png 173w,\n/gatsbyjs/static/440c1847cce911ec422533f5ef647799/fc834/balanceo5.png 345w,\n/gatsbyjs/static/440c1847cce911ec422533f5ef647799/36727/balanceo5.png 690w,\n/gatsbyjs/static/440c1847cce911ec422533f5ef647799/17fa4/balanceo5.png 1035w,\n/gatsbyjs/static/440c1847cce911ec422533f5ef647799/a5044/balanceo5.png 1380w,\n/gatsbyjs/static/440c1847cce911ec422533f5ef647799/a987b/balanceo5.png 1920w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Como podemos comprobar pasados unos segundos la cookie queda generada y guardada.</p>","timeToRead":22,"excerpt":"Proxy Squid Antes de comenzar crearemos una máquina vagrant donde realizaremos el ejercicio.   Vagrantfile\n(Para no tener problemas a la…","frontmatter":{"title":"[SERVICIOS] - Práctica: Proxy, proxy inverso y balanceadores de carga","cover":"https://img.icons8.com/ios/452/work.png","date":"2021-03-03T00:00:00.000Z","categories":["SRI"],"tags":["Proxy Squid"]},"fields":{"slug":"/servicios-practica-proxy-proxy-inverso-y-balanceadores-de-carga","date":"March 02, 2021"}}},"pageContext":{"slug":"/servicios-practica-proxy-proxy-inverso-y-balanceadores-de-carga","nexttitle":"Circe - Trámites","nextslug":"/circe-tramites","prevtitle":"[SERVICIOS] - Ejercicio: Aumento de rendimiento de servidores web von Varnish","prevslug":"/servicios-ejercicio-aumento-de-rendimiento-de-servidores-web-von-varnish"}}}