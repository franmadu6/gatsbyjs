{"componentChunkName":"component---src-templates-post-js","path":"/ejercicio-5-control-de-acceso-autentificacion-y-autorizacion","result":{"data":{"markdownRemark":{"html":"<h3 id=\"crea-un-escenario-en-vagrant-o-reutiliza-uno-de-los-que-tienes-en-ejercicios-anteriores-que-tenga-un-servidor-con-una-red-publica-y-una-privada-y-un-cliente-conectada-a-la-red-privada-crea-un-host-virtual-departamentosiesgnorg\"><a href=\"#crea-un-escenario-en-vagrant-o-reutiliza-uno-de-los-que-tienes-en-ejercicios-anteriores-que-tenga-un-servidor-con-una-red-publica-y-una-privada-y-un-cliente-conectada-a-la-red-privada-crea-un-host-virtual-departamentosiesgnorg\" aria-label=\"crea un escenario en vagrant o reutiliza uno de los que tienes en ejercicios anteriores que tenga un servidor con una red publica y una privada y un cliente conectada a la red privada crea un host virtual departamentosiesgnorg permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Crea un escenario en Vagrant o reutiliza uno de los que tienes en ejercicios anteriores, que tenga un servidor con una red publica, y una privada y un cliente conectada a la red privada. Crea un host virtual departamentos.iesgn.org.</h3>\n<ul>\n<li>\n<p>Escenario:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Vagrant.configure<span class=\"token punctuation\">(</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>config<span class=\"token operator\">|</span>\n\n    config.vm.define :servidor <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>servidor<span class=\"token operator\">|</span>\n            servidor.vm.box <span class=\"token operator\">=</span> <span class=\"token string\">\"debian/buster64\"</span>\n            servidor.vm.hostname <span class=\"token operator\">=</span> <span class=\"token string\">\"servidor\"</span>\n            servidor.vm.network :public_network,:bridge<span class=\"token operator\">=</span><span class=\"token operator\">></span><span class=\"token string\">\"wlo1\"</span>\n            servidor.vm.network :private_network, ip: <span class=\"token string\">\"192.168.100.25\"</span>, virtualbox__intnet: <span class=\"token string\">\"redinterna\"</span>\n    end\n\n    config.vm.define :cliente <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>cliente<span class=\"token operator\">|</span>\n            cliente.vm.box <span class=\"token operator\">=</span> <span class=\"token string\">\"debian/buster64\"</span>\n            cliente.vm.hostname <span class=\"token operator\">=</span> <span class=\"token string\">\"cliente\"</span>\n            cliente.vm.network :private_network, ip: <span class=\"token string\">\"192.168.100.26\"</span>, virtualbox__intnet: <span class=\"token string\">\"redinterna\"</span>\n    end\nend</code></pre></div>\n</li>\n</ul>\n<h2 id=\"a-la-url-departamentosiesgnorgintranet-sólo-se-debe-tener-acceso-desde-el-cliente-de-la-red-local-y-no-se-pueda-acceder-desde-la-anfitriona-por-la-red-pública-a-la-url-departamentosiesgnorginternet-sin-embargo-sólo-se-debe-tener-acceso-desde-la-anfitriona-por-la-red-pública-y-no-desde-la-red-local\"><a href=\"#a-la-url-departamentosiesgnorgintranet-s%C3%B3lo-se-debe-tener-acceso-desde-el-cliente-de-la-red-local-y-no-se-pueda-acceder-desde-la-anfitriona-por-la-red-p%C3%BAblica-a-la-url-departamentosiesgnorginternet-sin-embargo-s%C3%B3lo-se-debe-tener-acceso-desde-la-anfitriona-por-la-red-p%C3%BAblica-y-no-desde-la-red-local\" aria-label=\"a la url departamentosiesgnorgintranet sólo se debe tener acceso desde el cliente de la red local y no se pueda acceder desde la anfitriona por la red pública a la url departamentosiesgnorginternet sin embargo sólo se debe tener acceso desde la anfitriona por la red pública y no desde la red local permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A la URL departamentos.iesgn.org/intranet sólo se debe tener acceso desde el cliente de la red local, y no se pueda acceder desde la anfitriona por la red pública. A la URL departamentos.iesgn.org/internet, sin embargo, sólo se debe tener acceso desde la anfitriona por la red pública, y no desde la red local.</h2>\n<ul>\n<li>Intalaremos Apache en nuestro servidor</li>\n<li>\n<p>Crearemos un fichero llamado departamentos.conf ubicado en sites-avaliable, haremos que solo se pueda acceder al derectorio desde una ip externa a la red privada.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">&lt;</span>Directory /var/www/departamentos/internet/<span class=\"token operator\">></span>\n            Options Indexes FollowSymLinks MultiViews\n            <span class=\"token operator\">&lt;</span>RequireAll<span class=\"token operator\">></span>\n                    Require not <span class=\"token function\">ip</span> <span class=\"token number\">192.168</span>.100\n                    Require all granted\n            <span class=\"token operator\">&lt;</span>/RequireAll<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>/Directory<span class=\"token operator\">></span></code></pre></div>\n<p>Ahora la intranet, permitiremos que solo las ips de la red local puedan entrar al directorio.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">&lt;</span>Directory /var/www/departamentos/intranet/<span class=\"token operator\">></span>\n            Options Indexes FollowSymLinks MultiViews\n            <span class=\"token operator\">&lt;</span>RequireAll<span class=\"token operator\">></span>\n                    Require <span class=\"token function\">ip</span> <span class=\"token number\">192.168</span>.100\n                    Require all granted\n            <span class=\"token operator\">&lt;</span>/RequireAll<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>/Directory<span class=\"token operator\">></span></code></pre></div>\n</li>\n</ul>\n<p>Modificaremos nuetros archivo &#x3C;/etc/hosts> tanto es nuesta maquina(internet) como en nuestro cliente (intranet).</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token number\">192.168</span>.100.25   www.departamentos.iesgn.org\n<span class=\"token number\">192.168</span>.2.161    www.departamentos.iesgn.org</code></pre></div>\n<p><img src=\"images/servicios/ej5-1\" alt=\"PracticaImg\" title=\"Imagen de la practica\"></p>\n<p><img src=\"images/servicios/ej5-2\" alt=\"PracticaImg\" title=\"Imagen de la practica\"></p>\n<p><img src=\"images/servicios/ej5-3\" alt=\"PracticaImg\" title=\"Imagen de la practica\"></p>\n<p><img src=\"images/servicios/ej5-4\" alt=\"PracticaImg\" title=\"Imagen de la practica\"></p>\n<h2 id=\"autentificación-básica-limita-el-acceso-a-la-url-departamentosiesgnorgsecreto-comprueba-las-cabeceras-de-los-mensajes-http-que-se-intercambian-entre-el-servidor-y-el-cliente-¿cómo-se-manda-la-contraseña-entre-el-cliente-y-el-servidor-entrega-una-breve-explicación-del-ejercicio\"><a href=\"#autentificaci%C3%B3n-b%C3%A1sica-limita-el-acceso-a-la-url-departamentosiesgnorgsecreto-comprueba-las-cabeceras-de-los-mensajes-http-que-se-intercambian-entre-el-servidor-y-el-cliente-%C2%BFc%C3%B3mo-se-manda-la-contrase%C3%B1a-entre-el-cliente-y-el-servidor-entrega-una-breve-explicaci%C3%B3n-del-ejercicio\" aria-label=\"autentificación básica limita el acceso a la url departamentosiesgnorgsecreto comprueba las cabeceras de los mensajes http que se intercambian entre el servidor y el cliente ¿cómo se manda la contraseña entre el cliente y el servidor entrega una breve explicación del ejercicio permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Autentificación básica. Limita el acceso a la URL departamentos.iesgn.org/secreto. Comprueba las cabeceras de los mensajes HTTP que se intercambian entre el servidor y el cliente. ¿Cómo se manda la contraseña entre el cliente y el servidor?. Entrega una breve explicación del ejercicio.</h2>\n<h2 id=\"cómo-hemos-visto-la-autentificación-básica-no-es-segura-modifica-la-autentificación-para-que-sea-del-tipo-digest-y-sólo-sea-accesible-a-los-usuarios-pertenecientes-al-grupo-directivos-comprueba-las-cabeceras-de-los-mensajes-http-que-se-intercambian-entre-el-servidor-y-el-cliente-¿cómo-funciona-esta-autentificación\"><a href=\"#c%C3%B3mo-hemos-visto-la-autentificaci%C3%B3n-b%C3%A1sica-no-es-segura-modifica-la-autentificaci%C3%B3n-para-que-sea-del-tipo-digest-y-s%C3%B3lo-sea-accesible-a-los-usuarios-pertenecientes-al-grupo-directivos-comprueba-las-cabeceras-de-los-mensajes-http-que-se-intercambian-entre-el-servidor-y-el-cliente-%C2%BFc%C3%B3mo-funciona-esta-autentificaci%C3%B3n\" aria-label=\"cómo hemos visto la autentificación básica no es segura modifica la autentificación para que sea del tipo digest y sólo sea accesible a los usuarios pertenecientes al grupo directivos comprueba las cabeceras de los mensajes http que se intercambian entre el servidor y el cliente ¿cómo funciona esta autentificación permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cómo hemos visto la autentificación básica no es segura, modifica la autentificación para que sea del tipo digest, y sólo sea accesible a los usuarios pertenecientes al grupo directivos. Comprueba las cabeceras de los mensajes HTTP que se intercambian entre el servidor y el cliente. ¿Cómo funciona esta autentificación?</h2>\n<h2 id=\"vamos-a-combinar-el-control-de-acceso-ejercicio-1-y-la-autentificación-ejercicios-2-y-3-y-vamos-a-configurar-el-virtual-host-para-que-se-comporte-de-la-siguiente-manera-el-acceso-a-la-url-departamentosiesgnorgsecreto-se-hace-forma-directa-desde-la-intranet-desde-la-red-pública-te-pide-la-autentificación-muestra-el-resultado-al-profesor\"><a href=\"#vamos-a-combinar-el-control-de-acceso-ejercicio-1-y-la-autentificaci%C3%B3n-ejercicios-2-y-3-y-vamos-a-configurar-el-virtual-host-para-que-se-comporte-de-la-siguiente-manera-el-acceso-a-la-url-departamentosiesgnorgsecreto-se-hace-forma-directa-desde-la-intranet-desde-la-red-p%C3%BAblica-te-pide-la-autentificaci%C3%B3n-muestra-el-resultado-al-profesor\" aria-label=\"vamos a combinar el control de acceso ejercicio 1 y la autentificación ejercicios 2 y 3 y vamos a configurar el virtual host para que se comporte de la siguiente manera el acceso a la url departamentosiesgnorgsecreto se hace forma directa desde la intranet desde la red pública te pide la autentificación muestra el resultado al profesor permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vamos a combinar el control de acceso (ejercicio 1) y la autentificación (Ejercicios 2 y 3), y vamos a configurar el virtual host para que se comporte de la siguiente manera: el acceso a la URL departamentos.iesgn.org/secreto se hace forma directa desde la intranet, desde la red pública te pide la autentificación. Muestra el resultado al profesor.</h2>","timeToRead":3,"excerpt":"Crea un escenario en Vagrant o reutiliza uno de los que tienes en ejercicios anteriores, que tenga un servidor con una red publica, y una…","frontmatter":{"title":"Ejercicio 5: Control de acceso, autentificación y autorización","cover":"https://img.icons8.com/ios/452/work.png","date":"2020-11-02T00:00:00.000Z","categories":["Servicios"],"tags":["Control de acceso","Autentificación","Autorización"]},"fields":{"slug":"/ejercicio-5-control-de-acceso-autentificacion-y-autorizacion","date":"November 01, 2020"}}},"pageContext":{"slug":"/ejercicio-5-control-de-acceso-autentificacion-y-autorizacion","nexttitle":"Compilación de un programa en C utilizando un Makefile","nextslug":"/compilacion-de-un-programa-en-c-utilizando-un-makefile","prevtitle":"Ejercicio 6: Configuración de apache mediante archivo .htaccess ","prevslug":"/ejercicio-6-configuracion-de-apache-mediante-archivo-htaccess"}}}