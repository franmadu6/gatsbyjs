{"componentChunkName":"component---src-templates-post-js","path":"/servicios-ejercicio-aumento-de-rendimiento-de-servidores-web-von-varnish","result":{"data":{"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/8179c/varnish.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABUBAQEAAAAAAAAAAAAAAAAAAAME/9oADAMBAAIQAxAAAAHFZnee8mCo/8QAGRAAAgMBAAAAAAAAAAAAAAAAAQIAERIQ/9oACAEBAAEFAmRcKBeRxZc//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAECEv/aAAgBAwEBPwGjUP/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwGsr//EABYQAQEBAAAAAAAAAAAAAAAAAAEgIf/aAAgBAQAGPwIR2v/EABkQAAMBAQEAAAAAAAAAAAAAAAABESExUf/aAAgBAQABPyGXFd0bSOjVxjY2len/2gAMAwEAAgADAAAAEDjf/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERIWH/2gAIAQMBAT8Qo1Jgf//EABYRAQEBAAAAAAAAAAAAAAAAAAAxYf/aAAgBAgEBPxCWz//EABsQAQACAwEBAAAAAAAAAAAAAAEAESExQVFh/9oACAEBAAE/ECECOXx5BjMCy9vZRU0l7iPYgKY+qf/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"varnish logo\"\n        src=\"/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/8c996/varnish.jpg\"\n        srcset=\"/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/6f483/varnish.jpg 173w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/0fa0d/varnish.jpg 345w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/8c996/varnish.jpg 690w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/c8cd5/varnish.jpg 1035w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/00650/varnish.jpg 1380w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/8179c/varnish.jpg 1600w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"tarea-1-vamos-a-configurar-una-máquina-con-la-configuración-ganadora-nginx--fpmphp-socket-unix-para-ello-ejecuta-la-receta-ansible-que-encontraras-en-este--a-hrefhttpsgithubcomjosedom24ansible_nginx_fpm_php-targetblankrepositorioa-accede-al-wordpress-y-termina-la-configuración-del-sitio\"><a href=\"#tarea-1-vamos-a-configurar-una-m%C3%A1quina-con-la-configuraci%C3%B3n-ganadora-nginx--fpmphp-socket-unix-para-ello-ejecuta-la-receta-ansible-que-encontraras-en-este--a-hrefhttpsgithubcomjosedom24ansible_nginx_fpm_php-targetblankrepositorioa-accede-al-wordpress-y-termina-la-configuraci%C3%B3n-del-sitio\" aria-label=\"tarea 1 vamos a configurar una máquina con la configuración ganadora nginx  fpmphp socket unix para ello ejecuta la receta ansible que encontraras en este  a hrefhttpsgithubcomjosedom24ansible_nginx_fpm_php targetblankrepositorioa accede al wordpress y termina la configuración del sitio permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 1: Vamos a configurar una máquina con la configuración ganadora: nginx + fpm<em>php (socket unix). Para ello ejecuta la receta ansible que encontraras en este  &#x3C;a href=\"<a href=\"https://github.com/josedom24/ansible_nginx_fpm_php\">https://github.com/josedom24/ansible_nginx_fpm_php</a>\" target=\"</em>blank\">repositorio</a>. Accede al wordpress y termina la configuración del sitio.</h3>\n<p>Instalamos Ansible.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fran@debian:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> ansible</code></pre></div>\n<p>Clonamos el repositorio:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fran@debian:~/GitHub$ <span class=\"token function\">git</span> clone https://github.com/josedom24/ansible_nginx_fpm_php.git\nClonando en <span class=\"token string\">'ansible_nginx_fpm_php'</span><span class=\"token punctuation\">..</span>.\nremote: Enumerating objects: <span class=\"token number\">40</span>, done.\nremote: Counting objects: <span class=\"token number\">100</span>% <span class=\"token punctuation\">(</span><span class=\"token number\">40</span>/40<span class=\"token punctuation\">)</span>, done.\nremote: Compressing objects: <span class=\"token number\">100</span>% <span class=\"token punctuation\">(</span><span class=\"token number\">27</span>/27<span class=\"token punctuation\">)</span>, done.\nremote: Total <span class=\"token number\">40</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>, reused <span class=\"token number\">36</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>, pack-reused <span class=\"token number\">0</span>\nDesempaquetando objetos: <span class=\"token number\">100</span>% <span class=\"token punctuation\">(</span><span class=\"token number\">40</span>/40<span class=\"token punctuation\">)</span>, listo.</code></pre></div>\n<p>Modificamos la ip de la maquina para adaptarla a nuestro interfaz.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@debian:/home/fran/GitHub/ansible_nginx_fpm_php<span class=\"token comment\"># nano ansible.cfg</span>\n<span class=\"token punctuation\">[</span>defaults<span class=\"token punctuation\">]</span>\ninventory <span class=\"token operator\">=</span> hosts\nremote_user <span class=\"token operator\">=</span> vagrant <span class=\"token comment\">#modificaremos el usuario remoto</span>\nhost_key_checking <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n\n\nroot@debian:/home/fran/GitHub/ansible_nginx_fpm_php<span class=\"token comment\"># nano hosts</span>\n\n<span class=\"token punctuation\">[</span>servidores_web<span class=\"token punctuation\">]</span>\nnodo1 <span class=\"token assign-left variable\">ansible_ssh_host</span><span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.2.75 <span class=\"token assign-left variable\">ansible_python_interpreter</span><span class=\"token operator\">=</span>/usr/bin/python3</code></pre></div>\n<p>Iniciamos la receta para crear el escenario.(con la opcion -k accederemos poniendo la contraseña)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@debian:/home/fran/GitHub/ansible_nginx_fpm_php<span class=\"token comment\"># ansible-playbook -k site.yaml </span>\nSSH password: \n\nPLAY <span class=\"token punctuation\">[</span>servidores_web<span class=\"token punctuation\">]</span> ***********************************************************************************************************************************************\n\nTASK <span class=\"token punctuation\">[</span>Gathering Facts<span class=\"token punctuation\">]</span> **********************************************************************************************************************************************\nok: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>nginx <span class=\"token builtin class-name\">:</span> <span class=\"token function\">install</span> nginx, php-fpm<span class=\"token punctuation\">]</span> *******************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>nginx <span class=\"token builtin class-name\">:</span> Copy info.php<span class=\"token punctuation\">]</span> ****************************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>nginx <span class=\"token builtin class-name\">:</span> Copy virtualhost default<span class=\"token punctuation\">]</span> *****************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nRUNNING HANDLER <span class=\"token punctuation\">[</span>nginx <span class=\"token builtin class-name\">:</span> restart nginx<span class=\"token punctuation\">]</span> *****************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nPLAY <span class=\"token punctuation\">[</span>servidores_web<span class=\"token punctuation\">]</span> ***********************************************************************************************************************************************\n\nTASK <span class=\"token punctuation\">[</span>Gathering Facts<span class=\"token punctuation\">]</span> **********************************************************************************************************************************************\nok: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>mariadb <span class=\"token builtin class-name\">:</span> ensure mariadb is installed<span class=\"token punctuation\">]</span> ************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>mariadb <span class=\"token builtin class-name\">:</span> ensure mariadb binds to internal interface<span class=\"token punctuation\">]</span> *********************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nRUNNING HANDLER <span class=\"token punctuation\">[</span>mariadb <span class=\"token builtin class-name\">:</span> restart mariadb<span class=\"token punctuation\">]</span> *************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nPLAY <span class=\"token punctuation\">[</span>servidores_web<span class=\"token punctuation\">]</span> ***********************************************************************************************************************************************\n\nTASK <span class=\"token punctuation\">[</span>Gathering Facts<span class=\"token punctuation\">]</span> **********************************************************************************************************************************************\nok: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>wordpress <span class=\"token builtin class-name\">:</span> <span class=\"token function\">install</span> unzip<span class=\"token punctuation\">]</span> ************************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>wordpress <span class=\"token builtin class-name\">:</span> download wordpress<span class=\"token punctuation\">]</span> *******************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>wordpress <span class=\"token builtin class-name\">:</span> <span class=\"token function\">unzip</span> wordpress<span class=\"token punctuation\">]</span> **********************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>wordpress <span class=\"token builtin class-name\">:</span> create database wordpress<span class=\"token punctuation\">]</span> ************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nTASK <span class=\"token punctuation\">[</span>wordpress <span class=\"token builtin class-name\">:</span> create user mysql wordpress<span class=\"token punctuation\">]</span> **********************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">(</span>item<span class=\"token operator\">=</span>localhost<span class=\"token punctuation\">)</span>\n\nTASK <span class=\"token punctuation\">[</span>wordpress <span class=\"token builtin class-name\">:</span> copy wp-config.php<span class=\"token punctuation\">]</span> *******************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nRUNNING HANDLER <span class=\"token punctuation\">[</span>wordpress <span class=\"token builtin class-name\">:</span> restart nginx<span class=\"token punctuation\">]</span> *************************************************************************************************************************\nchanged: <span class=\"token punctuation\">[</span>nodo1<span class=\"token punctuation\">]</span>\n\nPLAY RECAP **********************************************************************************************************************************************************\nnodo1                      <span class=\"token builtin class-name\">:</span> <span class=\"token assign-left variable\">ok</span><span class=\"token operator\">=</span><span class=\"token number\">17</span>   <span class=\"token assign-left variable\">changed</span><span class=\"token operator\">=</span><span class=\"token number\">14</span>   <span class=\"token assign-left variable\">unreachable</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>    <span class=\"token assign-left variable\">failed</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>   </code></pre></div>\n<p>Ahora ya tenemos nuestra maquina creada en vagrant con la receta de ansible implementada, deberemos acceder a la ip/wordpress para iniciar la instalación del mismo.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/dcebb311446ae32c447ba4dc94010eac/8d0ff/varnish1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABbUlEQVQoz6WSUUvCUBiG92PSXTgvKkG8ri6LIvpxBaFuq+x/dBFEN5FIYGnqNl16zs6m5ea2t7PlYooG0oGH9xy+93v5DucIJ6dnODw6Dvf2D7C7vYOclEM+L0HiKkkSstkMRE4mk2YLoihyXx6FQgGlUgnFYjFWQZGVUK5UUC1XwPdQVZVzBVWRYy1XZZxf8pqiQJYj5FijsxJ5b65Rq93G56hX8LwZOOFc4bpezJSDwEeXOLi4f4M/8zi8PvfFJN6p+9snjEYEq6CEQjMZXnoUD00TjQ6FYRIQstqfIFBqYREWq207qLeHqHfHaA99PPVctLQhGFv2LyJYFkMaav0EWsyBpuvo613wuyNaZN603JNmbSDjE3Y0A7rRhx8EHMAc/StwjNfWO78iQ7IYs+MpNwq0UhMOhhT25AtBCDQ0huf2BxzG/pxyfSBvTL5R6M9w1zDw2BxgbNubBSbm9MsRYmE6cfDp2Av1VYHf1LEHUH13elsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"instalación wordpress\"\n        src=\"/gatsbyjs/static/dcebb311446ae32c447ba4dc94010eac/36727/varnish1.png\"\n        srcset=\"/gatsbyjs/static/dcebb311446ae32c447ba4dc94010eac/acf4b/varnish1.png 173w,\n/gatsbyjs/static/dcebb311446ae32c447ba4dc94010eac/fc834/varnish1.png 345w,\n/gatsbyjs/static/dcebb311446ae32c447ba4dc94010eac/36727/varnish1.png 690w,\n/gatsbyjs/static/dcebb311446ae32c447ba4dc94010eac/17fa4/varnish1.png 1035w,\n/gatsbyjs/static/dcebb311446ae32c447ba4dc94010eac/a5044/varnish1.png 1380w,\n/gatsbyjs/static/dcebb311446ae32c447ba4dc94010eac/8d0ff/varnish1.png 1440w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/29e4036de49900b982d4bcd9f582d4ad/a987b/varnish2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACdUlEQVQoz22R204TURSG504FJJZUCRA0aig9UspBaKel01QjJKDe4CEaTVBfAnoSNYCUFsrhkjufwPgGXph4IxgOpRQeAAo2JYHS0s89o5CSuJIv/97/XnutNXuk5y9e0t8/gKIoAh9OpxOny4VLls+QZbdAxlnm/fVl/D4f93t76e3ro1eoZDJbMFusmK02ul1qohuj8JqNZgxG0xlNzcZzaOdCjeLMJO6r6ydPnyEFgwGCgQCBwAgTY2PEYzEikYjmjQwPa4RDISLhsKYqoX97VYPBICHBsMhLJBJIs/MLJObmBQvMxKaJTsWZmk4Qjc8QE5qYnefTZJR3o6OMvv/Ax7FxJqNTjI1PEBUai8eZnhG5YpDFxUUko6VFfKJNjC3U2oLZ1kqT0YLV7tD2dY3XuVhZxRVdDfX1DdQ1NNJkMIgcE80mCzdu3kZfW0fl5WoGHw8iudw9dLnc4v08dMse8fAePD0+HJ1d1FyrpUavF80s3Goy4Ghrxy93MKB00Kfc4Z7XibdHFvdlWhxtvH7zFqlLFFB8d/EqfmSPVyva2t6JTn+VCxUVXKqqolqnw2G30e9t55Hi4KEi1He6buOBvxub3c6roSGkZHKDjVSKrfQWacFmOs3K6irLy8uarq6tsba+zvZmku3UGlupdY30hrpWvSTp1Aa/Vlb4ubSERFkcHBywu7tLJpMhm/3Nzs4O+/v7/C8Ov32HbO6cl8vlkE5OTjilUChwfFwgn89zdJTn8PBQ6BHlOWrTjGiaFRSPjzWvWCxSEgXVYaRSqYSKGl+/fBa/P8jsXJjk0g+KhaLmn56fFlSbFEsnWhHK7u/tZfgDU+EzzU+/+6AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"instalación wordpress\"\n        src=\"/gatsbyjs/static/29e4036de49900b982d4bcd9f582d4ad/36727/varnish2.png\"\n        srcset=\"/gatsbyjs/static/29e4036de49900b982d4bcd9f582d4ad/acf4b/varnish2.png 173w,\n/gatsbyjs/static/29e4036de49900b982d4bcd9f582d4ad/fc834/varnish2.png 345w,\n/gatsbyjs/static/29e4036de49900b982d4bcd9f582d4ad/36727/varnish2.png 690w,\n/gatsbyjs/static/29e4036de49900b982d4bcd9f582d4ad/17fa4/varnish2.png 1035w,\n/gatsbyjs/static/29e4036de49900b982d4bcd9f582d4ad/a5044/varnish2.png 1380w,\n/gatsbyjs/static/29e4036de49900b982d4bcd9f582d4ad/a987b/varnish2.png 1920w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"tarea-2-vamos-a-hacer-las-pruebas-de-rendimiento-desde-la-misma-máquina-es-decir-vamos-a-ejecutar-instrucciones-similares-a-esta\"><a href=\"#tarea-2-vamos-a-hacer-las-pruebas-de-rendimiento-desde-la-misma-m%C3%A1quina-es-decir-vamos-a-ejecutar-instrucciones-similares-a-esta\" aria-label=\"tarea 2 vamos a hacer las pruebas de rendimiento desde la misma máquina es decir vamos a ejecutar instrucciones similares a esta permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 2: Vamos a hacer las pruebas de rendimiento desde la misma máquina, es decir vamos a ejecutar instrucciones similares a esta:</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ab -t <span class=\"token number\">10</span> -c <span class=\"token number\">200</span> -k http:/127.0.0.1/wordpress/index.php</code></pre></div>\n<p><strong>Realiza algunas prueba de rendimiento con varios valores distintos para el nivel de concurrencia (50,100,250,500) y apunta el resultado de peticiones/segundo (parámetro Requests per second de ab). Puedes hacer varias pruebas y quedarte con la media. Reinicia el servidor nginx y el fpm-php entre cada prueba para que los resultados sean los más reales posibles.</strong></p>\n<p>Instalaremos apache2-utils que nos sera necesario para poder ejecutar <strong>ab</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@ansible:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> apache2-utils</code></pre></div>\n<p>Pruebas de rendimiento.(50)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@ansible:~$ <span class=\"token function\">sudo</span> systemctl restart nginx\nvagrant@ansible:~$ ab -t <span class=\"token number\">10</span> -c <span class=\"token number\">50</span> -k http://192.168.2.75/wordpress/\nThis is ApacheBench, Version <span class=\"token number\">2.3</span> <span class=\"token operator\">&lt;</span><span class=\"token variable\">$Revision</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1843412</span> $<span class=\"token operator\">></span>\nCopyright <span class=\"token number\">1996</span> Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking <span class=\"token number\">192.168</span>.2.75 <span class=\"token punctuation\">(</span>be patient<span class=\"token punctuation\">)</span>\nFinished <span class=\"token number\">535</span> requests\n\n\nServer Software:        nginx/1.14.2\nServer Hostname:        <span class=\"token number\">192.168</span>.2.75\nServer Port:            <span class=\"token number\">80</span>\n\nDocument Path:          /wordpress/\nDocument Length:        <span class=\"token number\">18150</span> bytes\n\nConcurrency Level:      <span class=\"token number\">50</span>\nTime taken <span class=\"token keyword\">for</span> tests:   <span class=\"token number\">10.002</span> seconds\nComplete requests:      <span class=\"token number\">535</span>\nFailed requests:        <span class=\"token number\">0</span>\nKeep-Alive requests:    <span class=\"token number\">0</span>\nTotal transferred:      <span class=\"token number\">9922645</span> bytes\nHTML transferred:       <span class=\"token number\">9710250</span> bytes\nRequests per second:    <span class=\"token number\">53.49</span> <span class=\"token punctuation\">[</span><span class=\"token comment\">#/sec] (mean)</span>\nTime per request:       <span class=\"token number\">934.777</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean<span class=\"token punctuation\">)</span>\nTime per request:       <span class=\"token number\">18.696</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean, across all concurrent requests<span class=\"token punctuation\">)</span>\nTransfer rate:          <span class=\"token number\">968.80</span> <span class=\"token punctuation\">[</span>Kbytes/sec<span class=\"token punctuation\">]</span> received\n\nConnection Times <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>\n              min  mean<span class=\"token punctuation\">[</span>+/-sd<span class=\"token punctuation\">]</span> median   max\nConnect:        <span class=\"token number\">0</span>    <span class=\"token number\">0</span>   <span class=\"token number\">0.2</span>      <span class=\"token number\">0</span>       <span class=\"token number\">1</span>\nProcessing:    <span class=\"token number\">54</span>  <span class=\"token number\">890</span> <span class=\"token number\">156.4</span>    <span class=\"token number\">927</span>     <span class=\"token number\">994</span>\nWaiting:       <span class=\"token number\">28</span>  <span class=\"token number\">874</span> <span class=\"token number\">154.6</span>    <span class=\"token number\">912</span>     <span class=\"token number\">971</span>\nTotal:         <span class=\"token number\">55</span>  <span class=\"token number\">890</span> <span class=\"token number\">156.2</span>    <span class=\"token number\">927</span>     <span class=\"token number\">994</span>\n\nPercentage of the requests served within a certain <span class=\"token function\">time</span> <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>\n  <span class=\"token number\">50</span>%    <span class=\"token number\">927</span>\n  <span class=\"token number\">66</span>%    <span class=\"token number\">935</span>\n  <span class=\"token number\">75</span>%    <span class=\"token number\">940</span>\n  <span class=\"token number\">80</span>%    <span class=\"token number\">946</span>\n  <span class=\"token number\">90</span>%    <span class=\"token number\">961</span>\n  <span class=\"token number\">95</span>%    <span class=\"token number\">968</span>\n  <span class=\"token number\">98</span>%    <span class=\"token number\">979</span>\n  <span class=\"token number\">99</span>%    <span class=\"token number\">981</span>\n <span class=\"token number\">100</span>%    <span class=\"token number\">994</span> <span class=\"token punctuation\">(</span>longest request<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Pruebas de rendimiento.(100)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@ansible:~$ <span class=\"token function\">sudo</span> systemctl restart nginx\nvagrant@ansible:~$ ab -t <span class=\"token number\">10</span> -c <span class=\"token number\">100</span> -k http://192.168.2.75/wordpress/\nThis is ApacheBench, Version <span class=\"token number\">2.3</span> <span class=\"token operator\">&lt;</span><span class=\"token variable\">$Revision</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1843412</span> $<span class=\"token operator\">></span>\nCopyright <span class=\"token number\">1996</span> Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking <span class=\"token number\">192.168</span>.2.75 <span class=\"token punctuation\">(</span>be patient<span class=\"token punctuation\">)</span>\nFinished <span class=\"token number\">496</span> requests\n\n\nServer Software:        nginx/1.14.2\nServer Hostname:        <span class=\"token number\">192.168</span>.2.75\nServer Port:            <span class=\"token number\">80</span>\n\nDocument Path:          /wordpress/\nDocument Length:        <span class=\"token number\">18150</span> bytes\n\nConcurrency Level:      <span class=\"token number\">100</span>\nTime taken <span class=\"token keyword\">for</span> tests:   <span class=\"token number\">10.034</span> seconds\nComplete requests:      <span class=\"token number\">496</span>\nFailed requests:        <span class=\"token number\">0</span>\nKeep-Alive requests:    <span class=\"token number\">0</span>\nTotal transferred:      <span class=\"token number\">9199312</span> bytes\nHTML transferred:       <span class=\"token number\">9002400</span> bytes\nRequests per second:    <span class=\"token number\">49.43</span> <span class=\"token punctuation\">[</span><span class=\"token comment\">#/sec] (mean)</span>\nTime per request:       <span class=\"token number\">2022.973</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean<span class=\"token punctuation\">)</span>\nTime per request:       <span class=\"token number\">20.230</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean, across all concurrent requests<span class=\"token punctuation\">)</span>\nTransfer rate:          <span class=\"token number\">895.33</span> <span class=\"token punctuation\">[</span>Kbytes/sec<span class=\"token punctuation\">]</span> received\n\nConnection Times <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>\n              min  mean<span class=\"token punctuation\">[</span>+/-sd<span class=\"token punctuation\">]</span> median   max\nConnect:        <span class=\"token number\">0</span>    <span class=\"token number\">4</span>   <span class=\"token number\">8.4</span>      <span class=\"token number\">0</span>      <span class=\"token number\">22</span>\nProcessing:    <span class=\"token number\">46</span> <span class=\"token number\">1809</span> <span class=\"token number\">498.9</span>   <span class=\"token number\">1984</span>    <span class=\"token number\">2138</span>\nWaiting:       <span class=\"token number\">28</span> <span class=\"token number\">1792</span> <span class=\"token number\">496.1</span>   <span class=\"token number\">1968</span>    <span class=\"token number\">2114</span>\nTotal:         <span class=\"token number\">57</span> <span class=\"token number\">1813</span> <span class=\"token number\">492.1</span>   <span class=\"token number\">1985</span>    <span class=\"token number\">2138</span>\n\nPercentage of the requests served within a certain <span class=\"token function\">time</span> <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>\n  <span class=\"token number\">50</span>%   <span class=\"token number\">1985</span>\n  <span class=\"token number\">66</span>%   <span class=\"token number\">2041</span>\n  <span class=\"token number\">75</span>%   <span class=\"token number\">2061</span>\n  <span class=\"token number\">80</span>%   <span class=\"token number\">2076</span>\n  <span class=\"token number\">90</span>%   <span class=\"token number\">2098</span>\n  <span class=\"token number\">95</span>%   <span class=\"token number\">2109</span>\n  <span class=\"token number\">98</span>%   <span class=\"token number\">2115</span>\n  <span class=\"token number\">99</span>%   <span class=\"token number\">2121</span>\n <span class=\"token number\">100</span>%   <span class=\"token number\">2138</span> <span class=\"token punctuation\">(</span>longest request<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Pruebas de rendimiento.(250)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@ansible:~$ <span class=\"token function\">sudo</span> systemctl restart nginx\nvagrant@ansible:~$ ab -t <span class=\"token number\">10</span> -c <span class=\"token number\">250</span> -k http://192.168.2.75/wordpress/\nThis is ApacheBench, Version <span class=\"token number\">2.3</span> <span class=\"token operator\">&lt;</span><span class=\"token variable\">$Revision</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1843412</span> $<span class=\"token operator\">></span>\nCopyright <span class=\"token number\">1996</span> Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking <span class=\"token number\">192.168</span>.2.75 <span class=\"token punctuation\">(</span>be patient<span class=\"token punctuation\">)</span>\nCompleted <span class=\"token number\">5000</span> requests\nCompleted <span class=\"token number\">10000</span> requests\nCompleted <span class=\"token number\">15000</span> requests\nCompleted <span class=\"token number\">20000</span> requests\nCompleted <span class=\"token number\">25000</span> requests\nFinished <span class=\"token number\">26027</span> requests\n\n\nServer Software:        nginx/1.14.2\nServer Hostname:        <span class=\"token number\">192.168</span>.2.75\nServer Port:            <span class=\"token number\">80</span>\n\nDocument Path:          /wordpress/\nDocument Length:        <span class=\"token number\">18150</span> bytes\n\nConcurrency Level:      <span class=\"token number\">250</span>\nTime taken <span class=\"token keyword\">for</span> tests:   <span class=\"token number\">10.000</span> seconds\nComplete requests:      <span class=\"token number\">26027</span>\nFailed requests:        <span class=\"token number\">25628</span>\n   <span class=\"token punctuation\">(</span>Connect: <span class=\"token number\">0</span>, Receive: <span class=\"token number\">0</span>, Length: <span class=\"token number\">25628</span>, Exceptions: <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nNon-2xx responses:      <span class=\"token number\">25628</span>\nKeep-Alive requests:    <span class=\"token number\">25509</span>\nTotal transferred:      <span class=\"token number\">15856898</span> bytes\nHTML transferred:       <span class=\"token number\">11675494</span> bytes\nRequests per second:    <span class=\"token number\">2602.61</span> <span class=\"token punctuation\">[</span><span class=\"token comment\">#/sec] (mean)</span>\nTime per request:       <span class=\"token number\">96.057</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean<span class=\"token punctuation\">)</span>\nTime per request:       <span class=\"token number\">0.384</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean, across all concurrent requests<span class=\"token punctuation\">)</span>\nTransfer rate:          <span class=\"token number\">1548.47</span> <span class=\"token punctuation\">[</span>Kbytes/sec<span class=\"token punctuation\">]</span> received\n\nConnection Times <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>\n              min  mean<span class=\"token punctuation\">[</span>+/-sd<span class=\"token punctuation\">]</span> median   max\nConnect:        <span class=\"token number\">0</span>    <span class=\"token number\">5</span>  <span class=\"token number\">68.2</span>      <span class=\"token number\">0</span>    <span class=\"token number\">1008</span>\nProcessing:     <span class=\"token number\">2</span>   <span class=\"token number\">82</span> <span class=\"token number\">383.9</span>     <span class=\"token number\">26</span>    <span class=\"token number\">3679</span>\nWaiting:        <span class=\"token number\">2</span>   <span class=\"token number\">82</span> <span class=\"token number\">381.5</span>     <span class=\"token number\">26</span>    <span class=\"token number\">3649</span>\nTotal:          <span class=\"token number\">2</span>   <span class=\"token number\">87</span> <span class=\"token number\">390.1</span>     <span class=\"token number\">26</span>    <span class=\"token number\">4545</span>\n\nPercentage of the requests served within a certain <span class=\"token function\">time</span> <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>\n  <span class=\"token number\">50</span>%     <span class=\"token number\">26</span>\n  <span class=\"token number\">66</span>%     <span class=\"token number\">32</span>\n  <span class=\"token number\">75</span>%     <span class=\"token number\">37</span>\n  <span class=\"token number\">80</span>%     <span class=\"token number\">41</span>\n  <span class=\"token number\">90</span>%     <span class=\"token number\">50</span>\n  <span class=\"token number\">95</span>%     <span class=\"token number\">57</span>\n  <span class=\"token number\">98</span>%   <span class=\"token number\">1014</span>\n  <span class=\"token number\">99</span>%   <span class=\"token number\">3172</span>\n <span class=\"token number\">100</span>%   <span class=\"token number\">4545</span> <span class=\"token punctuation\">(</span>longest request<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Pruebas de rendimiento.(500)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">vagrant@ansible:~$ <span class=\"token function\">sudo</span> systemctl restart nginx\nvagrant@ansible:~$ ab -t <span class=\"token number\">10</span> -c <span class=\"token number\">500</span> -k http://192.168.2.75/wordpress/\nThis is ApacheBench, Version <span class=\"token number\">2.3</span> <span class=\"token operator\">&lt;</span><span class=\"token variable\">$Revision</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1843412</span> $<span class=\"token operator\">></span>\nCopyright <span class=\"token number\">1996</span> Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking <span class=\"token number\">192.168</span>.2.75 <span class=\"token punctuation\">(</span>be patient<span class=\"token punctuation\">)</span>\nCompleted <span class=\"token number\">5000</span> requests\nCompleted <span class=\"token number\">10000</span> requests\nCompleted <span class=\"token number\">15000</span> requests\nCompleted <span class=\"token number\">20000</span> requests\nCompleted <span class=\"token number\">25000</span> requests\nCompleted <span class=\"token number\">30000</span> requests\nCompleted <span class=\"token number\">35000</span> requests\nFinished <span class=\"token number\">36817</span> requests\n\n\nServer Software:        nginx/1.14.2\nServer Hostname:        <span class=\"token number\">192.168</span>.2.75\nServer Port:            <span class=\"token number\">80</span>\n\nDocument Path:          /wordpress/\nDocument Length:        <span class=\"token number\">18150</span> bytes\n\nConcurrency Level:      <span class=\"token number\">500</span>\nTime taken <span class=\"token keyword\">for</span> tests:   <span class=\"token number\">10.000</span> seconds\nComplete requests:      <span class=\"token number\">36817</span>\nFailed requests:        <span class=\"token number\">36456</span>\n   <span class=\"token punctuation\">(</span>Connect: <span class=\"token number\">0</span>, Receive: <span class=\"token number\">0</span>, Length: <span class=\"token number\">36456</span>, Exceptions: <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nNon-2xx responses:      <span class=\"token number\">36456</span>\nKeep-Alive requests:    <span class=\"token number\">36235</span>\nTotal transferred:      <span class=\"token number\">18757768</span> bytes\nHTML transferred:       <span class=\"token number\">12891170</span> bytes\nRequests per second:    <span class=\"token number\">3681.60</span> <span class=\"token punctuation\">[</span><span class=\"token comment\">#/sec] (mean)</span>\nTime per request:       <span class=\"token number\">135.811</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean<span class=\"token punctuation\">)</span>\nTime per request:       <span class=\"token number\">0.272</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean, across all concurrent requests<span class=\"token punctuation\">)</span>\nTransfer rate:          <span class=\"token number\">1831.76</span> <span class=\"token punctuation\">[</span>Kbytes/sec<span class=\"token punctuation\">]</span> received\n\nConnection Times <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>\n              min  mean<span class=\"token punctuation\">[</span>+/-sd<span class=\"token punctuation\">]</span> median   max\nConnect:        <span class=\"token number\">0</span>    <span class=\"token number\">2</span>  <span class=\"token number\">35.6</span>      <span class=\"token number\">0</span>    <span class=\"token number\">1030</span>\nProcessing:     <span class=\"token number\">1</span>  <span class=\"token number\">108</span> <span class=\"token number\">413.4</span>     <span class=\"token number\">62</span>    <span class=\"token number\">4429</span>\nWaiting:        <span class=\"token number\">1</span>  <span class=\"token number\">108</span> <span class=\"token number\">412.2</span>     <span class=\"token number\">62</span>    <span class=\"token number\">4429</span>\nTotal:          <span class=\"token number\">1</span>  <span class=\"token number\">110</span> <span class=\"token number\">421.6</span>     <span class=\"token number\">62</span>    <span class=\"token number\">4429</span>\n\nPercentage of the requests served within a certain <span class=\"token function\">time</span> <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>\n  <span class=\"token number\">50</span>%     <span class=\"token number\">62</span>\n  <span class=\"token number\">66</span>%     <span class=\"token number\">71</span>\n  <span class=\"token number\">75</span>%     <span class=\"token number\">76</span>\n  <span class=\"token number\">80</span>%     <span class=\"token number\">80</span>\n  <span class=\"token number\">90</span>%     <span class=\"token number\">92</span>\n  <span class=\"token number\">95</span>%    <span class=\"token number\">100</span>\n  <span class=\"token number\">98</span>%    <span class=\"token number\">121</span>\n  <span class=\"token number\">99</span>%   <span class=\"token number\">3364</span>\n <span class=\"token number\">100</span>%   <span class=\"token number\">4429</span> <span class=\"token punctuation\">(</span>longest request<span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"resumen\"><a href=\"#resumen\" aria-label=\"resumen permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resumen</h3>\n<details open>\n<summary>Pruebas de rendimiento.(50)</summary>\n<br>\nRequests per second:    53.49 [#/sec] (mean)\n</details>\n<details open>\n<summary>Pruebas de rendimiento.(100)</summary>\n<br>\nRequests per second:    49.43 [#/sec] (mean)\n</details>\n<details open>\n<summary>Pruebas de rendimiento.(250)</summary>\n<br>\nRequests per second:    2602.61 [#/sec] (mean)\n</details>\n<details open>\n<summary>Pruebas de rendimiento.(500)</summary>\n<br>\nRequests per second:    3681.60 [#/sec] (mean)\n</details>\n<h3 id=\"tarea-3-configura-un-proxy-inverso---caché-varnish-escuchando-en-el-puerto-80-y-que-se-comunica-con-el-servidor-web-por-el-puerto-8080-entrega-y-muestra-una-comprobación-de-que-varnish-está-funcionando-con-la-nueva-configuración-realiza-pruebas-de-rendimiento-quedate-con-el-resultado-del-parámetro-requests-per-second-y-comprueba-si-hemos-aumentado-el-rendimiento-si-hacemos-varias-peticiones-a-la-misma-url-¿cuantas-peticiones-llegan-al-servidor-web-comprueba-el-fichero-accesslog-para-averiguarlo\"><a href=\"#tarea-3-configura-un-proxy-inverso---cach%C3%A9-varnish-escuchando-en-el-puerto-80-y-que-se-comunica-con-el-servidor-web-por-el-puerto-8080-entrega-y-muestra-una-comprobaci%C3%B3n-de-que-varnish-est%C3%A1-funcionando-con-la-nueva-configuraci%C3%B3n-realiza-pruebas-de-rendimiento-quedate-con-el-resultado-del-par%C3%A1metro-requests-per-second-y-comprueba-si-hemos-aumentado-el-rendimiento-si-hacemos-varias-peticiones-a-la-misma-url-%C2%BFcuantas-peticiones-llegan-al-servidor-web-comprueba-el-fichero-accesslog-para-averiguarlo\" aria-label=\"tarea 3 configura un proxy inverso   caché varnish escuchando en el puerto 80 y que se comunica con el servidor web por el puerto 8080 entrega y muestra una comprobación de que varnish está funcionando con la nueva configuración realiza pruebas de rendimiento quedate con el resultado del parámetro requests per second y comprueba si hemos aumentado el rendimiento si hacemos varias peticiones a la misma url ¿cuantas peticiones llegan al servidor web comprueba el fichero accesslog para averiguarlo permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 3: Configura un proxy inverso - caché Varnish escuchando en el puerto 80 y que se comunica con el servidor web por el puerto 8080. Entrega y muestra una comprobación de que varnish está funcionando con la nueva configuración. Realiza pruebas de rendimiento (quedate con el resultado del parámetro Requests per second) y comprueba si hemos aumentado el rendimiento. Si hacemos varias peticiones a la misma URL, ¿cuantas peticiones llegan al servidor web? (comprueba el fichero access.log para averiguarlo).</h3>","timeToRead":7,"excerpt":"Tarea 1: Vamos a configurar una máquina con la configuración ganadora: nginx + fpmphp (socket unix). Para ello ejecuta la receta ansible que…","frontmatter":{"title":"[SERVICIOS] - Ejercicio: Aumento de rendimiento de servidores web von Varnish","cover":"https://img.icons8.com/ios/452/work.png","date":"2021-03-03T00:00:00.000Z","categories":["SRI"],"tags":["Servidores web","Rendimiento","Varnish"]},"fields":{"slug":"/servicios-ejercicio-aumento-de-rendimiento-de-servidores-web-von-varnish","date":"March 02, 2021"}}},"pageContext":{"slug":"/servicios-ejercicio-aumento-de-rendimiento-de-servidores-web-von-varnish","nexttitle":"[SERVICIOS] - Práctica: Proxy, proxy inverso y balanceadores de carga","nextslug":"/servicios-practica-proxy-proxy-inverso-y-balanceadores-de-carga","prevtitle":"[ABD] - Práctica 6 Almacenamiento","prevslug":"/abd-practica-6-almacenamiento"}}}