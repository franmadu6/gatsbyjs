{"componentChunkName":"component---src-templates-post-js","path":"/servicios-ejercicio-aumento-de-rendimiento-de-servidores-web-von-varnish","result":{"data":{"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/8179c/varnish.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABUBAQEAAAAAAAAAAAAAAAAAAAME/9oADAMBAAIQAxAAAAHFZnee8mCo/8QAGRAAAgMBAAAAAAAAAAAAAAAAAQIAERIQ/9oACAEBAAEFAmRcKBeRxZc//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAECEv/aAAgBAwEBPwGjUP/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwGsr//EABYQAQEBAAAAAAAAAAAAAAAAAAEgIf/aAAgBAQAGPwIR2v/EABkQAAMBAQEAAAAAAAAAAAAAAAABESExUf/aAAgBAQABPyGXFd0bSOjVxjY2len/2gAMAwEAAgADAAAAEDjf/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERIWH/2gAIAQMBAT8Qo1Jgf//EABYRAQEBAAAAAAAAAAAAAAAAAAAxYf/aAAgBAgEBPxCWz//EABsQAQACAwEBAAAAAAAAAAAAAAEAESExQVFh/9oACAEBAAE/ECECOXx5BjMCy9vZRU0l7iPYgKY+qf/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"varnish logo\"\n        src=\"/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/8c996/varnish.jpg\"\n        srcset=\"/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/6f483/varnish.jpg 173w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/0fa0d/varnish.jpg 345w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/8c996/varnish.jpg 690w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/c8cd5/varnish.jpg 1035w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/00650/varnish.jpg 1380w,\n/gatsbyjs/static/884b633ea5f93eccceba0680149fda22/8179c/varnish.jpg 1600w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"tarea-1-vamos-a-configurar-una-máquina-con-la-configuración-ganadora-nginx--fpmphp-socket-unix-para-ello-ejecuta-la-receta-ansible-que-encontraras-en-este-repositoriohttpsgithubcomjosedom24ansiblenginxfpmphp-accede-al-wordpress-y-termina-la-configuración-del-sitio\"><a href=\"#tarea-1-vamos-a-configurar-una-m%C3%A1quina-con-la-configuraci%C3%B3n-ganadora-nginx--fpmphp-socket-unix-para-ello-ejecuta-la-receta-ansible-que-encontraras-en-este-repositoriohttpsgithubcomjosedom24ansiblenginxfpmphp-accede-al-wordpress-y-termina-la-configuraci%C3%B3n-del-sitio\" aria-label=\"tarea 1 vamos a configurar una máquina con la configuración ganadora nginx  fpmphp socket unix para ello ejecuta la receta ansible que encontraras en este repositoriohttpsgithubcomjosedom24ansiblenginxfpmphp accede al wordpress y termina la configuración del sitio permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 1: Vamos a configurar una máquina con la configuración ganadora: nginx + fpm<em>php (socket unix). Para ello ejecuta la receta ansible que encontraras en este [repositorio](<a href=\"https://github.com/josedom24/ansible\">https://github.com/josedom24/ansible</a></em>nginx<em>fpm</em>php). Accede al wordpress y termina la configuración del sitio.</h2>\n<h2 id=\"tarea-2-vamos-a-hacer-las-pruebas-de-rendimiento-desde-la-misma-máquina-es-decir-vamos-a-ejecutar-instrucciones-similares-a-esta\"><a href=\"#tarea-2-vamos-a-hacer-las-pruebas-de-rendimiento-desde-la-misma-m%C3%A1quina-es-decir-vamos-a-ejecutar-instrucciones-similares-a-esta\" aria-label=\"tarea 2 vamos a hacer las pruebas de rendimiento desde la misma máquina es decir vamos a ejecutar instrucciones similares a esta permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 2: Vamos a hacer las pruebas de rendimiento desde la misma máquina, es decir vamos a ejecutar instrucciones similares a esta:</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ab -t <span class=\"token number\">10</span> -c <span class=\"token number\">200</span> -k http:/127.0.0.1/wordpress/index.php</code></pre></div>\n<h2 id=\"realiza-algunas-prueba-de-rendimiento-con-varios-valores-distintos-para-el-nivel-de-concurrencia-50100250500-y-apunta-el-resultado-de-peticionessegundo-parámetro-requests-per-second-de-ab-puedes-hacer-varias-pruebas-y-quedarte-con-la-media-reinicia-el-servidor-nginx-y-el-fpm-php-entre-cada-prueba-para-que-los-resultados-sean-los-más-reales-posibles\"><a href=\"#realiza-algunas-prueba-de-rendimiento-con-varios-valores-distintos-para-el-nivel-de-concurrencia-50100250500-y-apunta-el-resultado-de-peticionessegundo-par%C3%A1metro-requests-per-second-de-ab-puedes-hacer-varias-pruebas-y-quedarte-con-la-media-reinicia-el-servidor-nginx-y-el-fpm-php-entre-cada-prueba-para-que-los-resultados-sean-los-m%C3%A1s-reales-posibles\" aria-label=\"realiza algunas prueba de rendimiento con varios valores distintos para el nivel de concurrencia 50100250500 y apunta el resultado de peticionessegundo parámetro requests per second de ab puedes hacer varias pruebas y quedarte con la media reinicia el servidor nginx y el fpm php entre cada prueba para que los resultados sean los más reales posibles permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Realiza algunas prueba de rendimiento con varios valores distintos para el nivel de concurrencia (50,100,250,500) y apunta el resultado de peticiones/segundo (parámetro Requests per second de ab). Puedes hacer varias pruebas y quedarte con la media. Reinicia el servidor nginx y el fpm-php entre cada prueba para que los resultados sean los más reales posibles.</h2>\n<h2 id=\"tarea-3-configura-un-proxy-inverso---caché-varnish-escuchando-en-el-puerto-80-y-que-se-comunica-con-el-servidor-web-por-el-puerto-8080-entrega-y-muestra-una-comprobación-de-que-varnish-está-funcionando-con-la-nueva-configuración-realiza-pruebas-de-rendimiento-quedate-con-el-resultado-del-parámetro-requests-per-second-y-comprueba-si-hemos-aumentado-el-rendimiento-si-hacemos-varias-peticiones-a-la-misma-url-¿cuantas-peticiones-llegan-al-servidor-web-comprueba-el-fichero-accesslog-para-averiguarlo\"><a href=\"#tarea-3-configura-un-proxy-inverso---cach%C3%A9-varnish-escuchando-en-el-puerto-80-y-que-se-comunica-con-el-servidor-web-por-el-puerto-8080-entrega-y-muestra-una-comprobaci%C3%B3n-de-que-varnish-est%C3%A1-funcionando-con-la-nueva-configuraci%C3%B3n-realiza-pruebas-de-rendimiento-quedate-con-el-resultado-del-par%C3%A1metro-requests-per-second-y-comprueba-si-hemos-aumentado-el-rendimiento-si-hacemos-varias-peticiones-a-la-misma-url-%C2%BFcuantas-peticiones-llegan-al-servidor-web-comprueba-el-fichero-accesslog-para-averiguarlo\" aria-label=\"tarea 3 configura un proxy inverso   caché varnish escuchando en el puerto 80 y que se comunica con el servidor web por el puerto 8080 entrega y muestra una comprobación de que varnish está funcionando con la nueva configuración realiza pruebas de rendimiento quedate con el resultado del parámetro requests per second y comprueba si hemos aumentado el rendimiento si hacemos varias peticiones a la misma url ¿cuantas peticiones llegan al servidor web comprueba el fichero accesslog para averiguarlo permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 3: Configura un proxy inverso - caché Varnish escuchando en el puerto 80 y que se comunica con el servidor web por el puerto 8080. Entrega y muestra una comprobación de que varnish está funcionando con la nueva configuración. Realiza pruebas de rendimiento (quedate con el resultado del parámetro Requests per second) y comprueba si hemos aumentado el rendimiento. Si hacemos varias peticiones a la misma URL, ¿cuantas peticiones llegan al servidor web? (comprueba el fichero access.log para averiguarlo).</h2>","timeToRead":2,"excerpt":"Tarea 1: Vamos a configurar una máquina con la configuración ganadora: nginx + fpmphp (socket unix). Para ello ejecuta la receta ansible que…","frontmatter":{"title":"[SERVICIOS] - Ejercicio: Aumento de rendimiento de servidores web von Varnish","cover":"https://img.icons8.com/ios/452/work.png","date":"2021-03-03T00:00:00.000Z","categories":["SRI"],"tags":["Servidores web","Rendimiento","Varnish"]},"fields":{"slug":"/servicios-ejercicio-aumento-de-rendimiento-de-servidores-web-von-varnish","date":"March 02, 2021"}}},"pageContext":{"slug":"/servicios-ejercicio-aumento-de-rendimiento-de-servidores-web-von-varnish","nexttitle":"Circe - Trámites","nextslug":"/circe-tramites","prevtitle":"Práctica 2: rclone - Gestionando nuestro almacenamiento en la nube (unidad 1)","prevslug":"/practica-2-rclone-gestionando-nuestro-almacenamiento-en-la-nube-unidad-1"}}}