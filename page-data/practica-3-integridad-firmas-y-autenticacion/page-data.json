{"componentChunkName":"component---src-templates-post-js","path":"/practica-3-integridad-firmas-y-autenticacion","result":{"data":{"markdownRemark":{"html":"<h2 id=\"práctica-integridad-firmas-y-autenticación\"><a href=\"#pr%C3%A1ctica-integridad-firmas-y-autenticaci%C3%B3n\" aria-label=\"práctica integridad firmas y autenticación permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Práctica: Integridad, firmas y autenticación</h2>\n<h3 id=\"tarea-1-firmas-electrónicas-3-puntos\"><a href=\"#tarea-1-firmas-electr%C3%B3nicas-3-puntos\" aria-label=\"tarea 1 firmas electrónicas 3 puntos permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 1: Firmas electrónicas (3 puntos)</h3>\n<p><strong>GPG</strong>  </p>\n<h3 id=\"manda-un-documento-y-la-firma-electrónica-del-mismo-a-un-compañero-verifica-la-firma-que-tu-has-recibido\"><a href=\"#manda-un-documento-y-la-firma-electr%C3%B3nica-del-mismo-a-un-compa%C3%B1ero-verifica-la-firma-que-tu-has-recibido\" aria-label=\"manda un documento y la firma electrónica del mismo a un compañero verifica la firma que tu has recibido permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Manda un documento y la firma electrónica del mismo a un compañero. Verifica la firma que tu has recibido.</h3>\n<ul>\n<li>\n<p>Con este comando firmamos nuestro documento .gpg</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fran@debian:~/Cifrado$ gpg --sign firma2.pdf</code></pre></div>\n</li>\n<li>\n<p>En caso de tener varias firmas para seleccionar la que deseemos usar utilizariamos el comando extendido:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fran@debian:~/Cifrado$ gpg --sign --default-key frandh1997@gmail.com firma2.pdf\ngpg: usando <span class=\"token string\">\"frandh1997@gmail.com\"</span> como clave secreta predeterminada para firmar\nEl fichero <span class=\"token string\">'firma2.pdf.gpg'</span> ya existe. ¿Sobreescribir? <span class=\"token punctuation\">(</span>s/N<span class=\"token punctuation\">)</span> s</code></pre></div>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fran@debian:~/Cifrado$ gpg --verify prueba.txt.gpg \ngpg: Firmado el jue <span class=\"token number\">22</span> oct <span class=\"token number\">2020</span> <span class=\"token number\">12</span>:16:17 CEST\ngpg:                usando RSA clave 443D661D9AAF3ABAEDCA93E1C3B291882C4EE5DF\ngpg:                emisor <span class=\"token string\">\"tojandro@gmail.com\"</span>\ngpg: Firma correcta de <span class=\"token string\">\"Alejandro Gutierrez Valencia &lt;tojandro@gmail.com>\"</span> <span class=\"token punctuation\">[</span>desconocido<span class=\"token punctuation\">]</span>\ngpg: ATENCIÓN: ¡Esta clave no está certificada por una firma de confianza<span class=\"token operator\">!</span>\ngpg:          No hay indicios de que la firma pertenezca al propietario.\nHuellas dactilares de la clave primaria: 443D 661D 9AAF 3ABA EDCA  93E1 C3B2 <span class=\"token number\">9188</span> 2C4E E5DF\n\nfran@debian:~/Cifrado$ gpg --verify doc.sig \ngpg: Firmado el jue <span class=\"token number\">22</span> oct <span class=\"token number\">2020</span> <span class=\"token number\">10</span>:38:11 CEST\ngpg:                usando RSA clave 9233303D1F5495739A6D2CB4636AE9EBCB7E3294\ngpg: Firma correcta de <span class=\"token string\">\"Manuel Lora Román &lt;manuelloraroman@gmail.com>\"</span> <span class=\"token punctuation\">[</span>desconocido<span class=\"token punctuation\">]</span>\ngpg: ATENCIÓN: ¡Esta clave no está certificada por una firma de confianza<span class=\"token operator\">!</span>\ngpg:          No hay indicios de que la firma pertenezca al propietario.\nHuellas dactilares de la clave primaria: <span class=\"token number\">9233</span> 303D 1F54 <span class=\"token number\">9573</span> 9A6D  2CB4 636A E9EB CB7E <span class=\"token number\">3294</span></code></pre></div>\n<ul>\n<li>\n<p>¿Qué significa el mensaje que aparece en el momento de verificar la firma?</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"> gpg: Firma correcta de <span class=\"token string\">\"Pepe D &lt;josedom24@gmail.com>\"</span> <span class=\"token punctuation\">[</span>desconocido<span class=\"token punctuation\">]</span>\n gpg: ATENCIÓN: ¡Esta clave no está certificada por una firma de confianza<span class=\"token operator\">!</span>\n gpg:          No hay indicios de que la firma pertenezca al propietario.\n Huellas dactilares de la clave primaria: E8DD 5DA9 3B88 F08A DA1D  26BF <span class=\"token number\">5141</span> 3DDB 0C99 55FC</code></pre></div>\n</li>\n</ul>\n<p>Significa que no confiamos esa firma de confianza ni nosotros ni nuestro anillo de confianzas.</p>\n<h3 id=\"vamos-a-crear-un-anillo-de-confianza-entre-los-miembros-de-nuestra-clase-para-ello\"><a href=\"#vamos-a-crear-un-anillo-de-confianza-entre-los-miembros-de-nuestra-clase-para-ello\" aria-label=\"vamos a crear un anillo de confianza entre los miembros de nuestra clase para ello permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vamos a crear un anillo de confianza entre los miembros de nuestra clase, para ello.</h3>\n<ul>\n<li>Tu clave pública debe estar en un servidor de claves  </li>\n<li>Escribe tu fingerprint en un papel y dárselo a tu compañero, para que puede descargarse tu clave pública.  </li>\n<li>Te debes bajar al menos tres claves públicas de compañeros. Firma estas claves.  </li>\n<li>Tu te debes asegurar que tu clave pública es firmada por al menos tres compañeros de la clase.  </li>\n<li>Una vez que firmes una clave se la tendrás que devolver a su dueño, para que otra persona se la firme.  </li>\n<li>Cuando tengas las tres firmas sube la clave al servidor de claves y rellena tus datos en la tabla Claves públicas PGP 2020-2021  </li>\n<li>Asegurate que te vuelves a bajar las claves públicas de tus compañeros que tengan las tres firmas.  </li>\n<li>\n<p>Añadir firma a un servidor en este caso a Rediris → </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fran@debian:~/Cifrado/cifrado2$ gpg --keyserver pgp.rediris.es --send-key 9F2A6170\ngpg: enviando clave 57112B319F2A6170 a hkp://pgp.rediris.es</code></pre></div>\n</li>\n<li>\n<p>Bajar Clave de compañero de rediris →</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fran@debian:~/Cifrado$ gpg --keyserver keyserver.ubuntu.com --recv-key 9987B52D\ngpg: clave 4F54B5799987B52D: clave pública <span class=\"token string\">\"Juan Antonio Reifs &lt;initategnat9@gmail.com>\"</span> importada\ngpg: Cantidad total procesada: <span class=\"token number\">1</span>\ngpg:               importadas: <span class=\"token number\">1</span>\nfran@debian:~/Cifrado$ gpg --keyserver pgp.rediris.es --recv-key 2C4EE5DF\ngpg: clave C3B291882C4EE5DF: <span class=\"token string\">\"Alejandro Gutierrez Valencia &lt;tojandro@gmail.com>\"</span> sin cambios\ngpg: Cantidad total procesada: <span class=\"token number\">1</span>\ngpg:              sin cambios: <span class=\"token number\">1</span></code></pre></div>\n</li>\n<li>\n<p>Firmar claves de compañeros →</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fran@debian:~/Cifrado$ gpg --sign-key 2C4EE5DF\n<span class=\"token comment\">#</span>\npub  rsa3072/C3B291882C4EE5DF\n creado: <span class=\"token number\">2020</span>-10-08  caduca: <span class=\"token number\">2020</span>-11-07  uso: SC  \n confianza: desconocido   validez: desconocido\nsub  rsa3072/3C5DBE21F6961E37\n creado: <span class=\"token number\">2020</span>-10-08  caduca: <span class=\"token number\">2020</span>-11-07  uso: E   \n<span class=\"token punctuation\">[</span>desconocida<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>. Alejandro Gutierrez Valencia <span class=\"token operator\">&lt;</span>tojandro@gmail.com<span class=\"token operator\">></span>\n<span class=\"token comment\">#</span>\npub  rsa3072/C3B291882C4EE5DF\n creado: <span class=\"token number\">2020</span>-10-08  caduca: <span class=\"token number\">2020</span>-11-07  uso: SC  \n confianza: desconocido   validez: desconocido\nHuella clave primaria: 443D 661D 9AAF 3ABA EDCA  93E1 C3B2 <span class=\"token number\">9188</span> 2C4E E5DF\n\n Alejandro Gutierrez Valencia <span class=\"token operator\">&lt;</span>tojandro@gmail.com<span class=\"token operator\">></span>\n<span class=\"token comment\">#</span>\nEsta clave expirará el <span class=\"token number\">2020</span>-11-07.\n¿Está realmente seguro de querer firmar esta clave\ncon <span class=\"token function\">su</span> clave: <span class=\"token string\">\"Francisco Javier Madueño Jurado &lt;frandh1997@gmail.com>\"</span> <span class=\"token punctuation\">(</span>57112B319F2A6170<span class=\"token punctuation\">)</span>?\n<span class=\"token comment\">#</span>\n¿Firmar de verdad? <span class=\"token punctuation\">(</span>s/N<span class=\"token punctuation\">)</span> s</code></pre></div>\n</li>\n<li>\n<p>Muestra las firmas que tiene tu clave pública.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">fran@debian:~/Descargas$ gpg --list-sign\n/home/fran/.gnupg/pubring.kbx\n-----------------------------\npub   rsa3072 <span class=\"token number\">2020</span>-10-06 <span class=\"token punctuation\">[</span>SC<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>caduca: <span class=\"token number\">2022</span>-10-06<span class=\"token punctuation\">]</span>\n  28ED3C3112ED8846BEDFFAF657112B319F2A6170\nuid        <span class=\"token punctuation\">[</span>  absoluta <span class=\"token punctuation\">]</span> Francisco Javier Madueño Jurado <span class=\"token operator\">&lt;</span>frandh1997@gmail.com<span class=\"token operator\">></span>\nsig <span class=\"token number\">3</span>        57112B319F2A6170 <span class=\"token number\">2020</span>-10-06  Francisco Javier Madueño Jurado <span class=\"token operator\">&lt;</span>frandh1997@gmail.com<span class=\"token operator\">></span>\nsig          C3B291882C4EE5DF <span class=\"token number\">2020</span>-10-28  Alejandro Gutierrez Valencia <span class=\"token operator\">&lt;</span>tojandro@gmail.com<span class=\"token operator\">></span>\nsub   rsa3072 <span class=\"token number\">2020</span>-10-06 <span class=\"token punctuation\">[</span>E<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>caduca: <span class=\"token number\">2022</span>-10-06<span class=\"token punctuation\">]</span>\nsig          57112B319F2A6170 <span class=\"token number\">2020</span>-10-06  Francisco Javier Madueño Jurado <span class=\"token operator\">&lt;</span>frandh1997@gmail.com<span class=\"token operator\">></span>\n<span class=\"token comment\">#</span>\npub   rsa3072 <span class=\"token number\">2020</span>-10-06 <span class=\"token punctuation\">[</span>SC<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>caduca: <span class=\"token number\">2022</span>-10-06<span class=\"token punctuation\">]</span>\n  9233303D1F5495739A6D2CB4636AE9EBCB7E3294\nuid        <span class=\"token punctuation\">[</span>   total   <span class=\"token punctuation\">]</span> Manuel Lora Román <span class=\"token operator\">&lt;</span>manuelloraroman@gmail.com<span class=\"token operator\">></span>\nsig <span class=\"token number\">3</span>        636AE9EBCB7E3294 <span class=\"token number\">2020</span>-10-06  Manuel Lora Román <span class=\"token operator\">&lt;</span>manuelloraroman@gmail.com<span class=\"token operator\">></span>\nsig          57112B319F2A6170 <span class=\"token number\">2020</span>-10-28  Francisco Javier Madueño Jurado <span class=\"token operator\">&lt;</span>frandh1997@gmail.com<span class=\"token operator\">></span>\nsub   rsa3072 <span class=\"token number\">2020</span>-10-06 <span class=\"token punctuation\">[</span>E<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>caduca: <span class=\"token number\">2022</span>-10-06<span class=\"token punctuation\">]</span>\nsig          636AE9EBCB7E3294 <span class=\"token number\">2020</span>-10-06  Manuel Lora Román <span class=\"token operator\">&lt;</span>manuelloraroman@gmail.com<span class=\"token operator\">></span>\n<span class=\"token comment\">#</span>\npub   rsa3072 <span class=\"token number\">2020</span>-10-08 <span class=\"token punctuation\">[</span>SC<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>caduca: <span class=\"token number\">2020</span>-11-07<span class=\"token punctuation\">]</span>\n  443D661D9AAF3ABAEDCA93E1C3B291882C4EE5DF\nuid        <span class=\"token punctuation\">[</span>   total   <span class=\"token punctuation\">]</span> Alejandro Gutierrez Valencia <span class=\"token operator\">&lt;</span>tojandro@gmail.com<span class=\"token operator\">></span>\nsig <span class=\"token number\">3</span>        C3B291882C4EE5DF <span class=\"token number\">2020</span>-10-08  Alejandro Gutierrez Valencia <span class=\"token operator\">&lt;</span>tojandro@gmail.com<span class=\"token operator\">></span>\nsig          57112B319F2A6170 <span class=\"token number\">2020</span>-10-22  Francisco Javier Madueño Jurado <span class=\"token operator\">&lt;</span>frandh1997@gmail.com<span class=\"token operator\">></span>\nsig          A52A681834F0E596 <span class=\"token number\">2020</span>-10-28  <span class=\"token punctuation\">[</span>ID de usuario no encontrado<span class=\"token punctuation\">]</span>\nsub   rsa3072 <span class=\"token number\">2020</span>-10-08 <span class=\"token punctuation\">[</span>E<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>caduca: <span class=\"token number\">2020</span>-11-07<span class=\"token punctuation\">]</span>\nsig          C3B291882C4EE5DF <span class=\"token number\">2020</span>-10-08  Alejandro Gutierrez Valencia <span class=\"token operator\">&lt;</span>tojandro@gmail.com<span class=\"token operator\">></span>\n<span class=\"token comment\">#</span>\npub   rsa3072 <span class=\"token number\">2020</span>-10-22 <span class=\"token punctuation\">[</span>SC<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>caduca: <span class=\"token number\">2022</span>-10-22<span class=\"token punctuation\">]</span>\n  AD19812061DA946F8DA70E0C4F54B5799987B52D\nuid        <span class=\"token punctuation\">[</span>   total   <span class=\"token punctuation\">]</span> Juan Antonio Reifs <span class=\"token operator\">&lt;</span>initategnat9@gmail.com<span class=\"token operator\">></span>\nsig <span class=\"token number\">3</span>        4F54B5799987B52D <span class=\"token number\">2020</span>-10-22  Juan Antonio Reifs <span class=\"token operator\">&lt;</span>initategnat9@gmail.com<span class=\"token operator\">></span>\nsig          57112B319F2A6170 <span class=\"token number\">2020</span>-10-28  Francisco Javier Madueño Jurado <span class=\"token operator\">&lt;</span>frandh1997@gmail.com<span class=\"token operator\">></span>\nsub   rsa3072 <span class=\"token number\">2020</span>-10-22 <span class=\"token punctuation\">[</span>E<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>caduca: <span class=\"token number\">2022</span>-10-22<span class=\"token punctuation\">]</span>\nsig          4F54B5799987B52D <span class=\"token number\">2020</span>-10-22  Juan Antonio Reifs <span class=\"token operator\">&lt;</span>initategnat9@gmail.com<span class=\"token operator\">></span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"comprueba-que-puedes-verificar-con-confianza-una-firma-de-una-persona-en-las-que-no-confías-pero-sin-embargo-si-confía-otra-persona-en-la-que-tu-tienes-confianza-total\"><a href=\"#comprueba-que-puedes-verificar-con-confianza-una-firma-de-una-persona-en-las-que-no-conf%C3%ADas-pero-sin-embargo-si-conf%C3%ADa-otra-persona-en-la-que-tu-tienes-confianza-total\" aria-label=\"comprueba que puedes verificar con confianza una firma de una persona en las que no confías pero sin embargo si confía otra persona en la que tu tienes confianza total permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Comprueba que puedes verificar con confianza una firma de una persona en las que no confías, pero sin embargo si confía otra persona en la que tu tienes confianza total.</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\">#firmo un documento y lo envio(aunque por defecto suele coger tu propia firma he leido que puede generar errores asi que he añadido la linea default key para asegurarlo.</span>\nfran@debian:~/Cifrado/cifrado2$ gpg --sign --default-key frandh1997@gmail.com fockiu.txt \ngpg: usando <span class=\"token string\">\"frandh1997@gmail.com\"</span> como clave secreta predeterminada para firmar\n\nfran@debian:~/Cifrado/cifrado2$ gpg --import jose.key \ngpg: clave A52A681834F0E596: clave pública <span class=\"token string\">\"José Miguel Calderón Frutos &lt;josemiguelcalderonfrutos@gamil.com>\"</span> importada\ngpg: Cantidad total procesada: <span class=\"token number\">1</span>\ngpg:               importadas: <span class=\"token number\">1</span>\ngpg: marginals needed: <span class=\"token number\">3</span>  completes needed: <span class=\"token number\">1</span>  trust model: pgp\ngpg: nivel: <span class=\"token number\">0</span>  validez:   <span class=\"token number\">1</span>  firmada:   <span class=\"token number\">3</span>  confianza: <span class=\"token number\">0</span>-, 0q, 0n, 0m, 0f, 1u\ngpg: nivel: <span class=\"token number\">1</span>  validez:   <span class=\"token number\">3</span>  firmada:   <span class=\"token number\">1</span>  confianza: <span class=\"token number\">2</span>-, 0q, 0n, 1m, 0f, 0u\ngpg: siguiente comprobación de base de datos de confianza el: <span class=\"token number\">2020</span>-11-07\nfran@debian:~/Cifrado/cifrado2$ gpg -d hola.sig \nTonto el que lo lea\ngpg: Firmado el mar 03 nov <span class=\"token number\">2020</span> <span class=\"token number\">12</span>:31:01 CET\ngpg:                usando RSA clave DCFB091C5495684E59BC061EA52A681834F0E596\ngpg: Firma correcta de <span class=\"token string\">\"José Miguel Calderón Frutos &lt;josemiguelcalderonfrutos@gamil.com>\"</span> <span class=\"token punctuation\">[</span>dudosa<span class=\"token punctuation\">]</span>\ngpg: ATENCIÓN: ¡Esta clave no está certificada con firmas de suficiente confianza<span class=\"token operator\">!</span>\ngpg:          No es seguro que la firma pertenezca al propietario.\nHuellas dactilares de la clave primaria: DCFB 091C <span class=\"token number\">5495</span> 684E 59BC  061E A52A <span class=\"token number\">6818</span> 34F0 E596</code></pre></div>\n<h2 id=\"tarea-2-correo-seguro-con-evolutionthunderbird-2-puntos\"><a href=\"#tarea-2-correo-seguro-con-evolutionthunderbird-2-puntos\" aria-label=\"tarea 2 correo seguro con evolutionthunderbird 2 puntos permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 2: Correo seguro con evolution/thunderbird (2 puntos)</h2>\n<p>Ahora vamos a configurar nuestro cliente de correo electrónico para poder mandar correos cifrados, para ello:</p>\n<ol>\n<li>Configura el cliente de correo evolution con tu cuenta de correo habitual.</li>\n</ol>\n<p>Nos instalaremos thunderbird\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsbyjs/static/0fd538edcdf478349014bbe11b9dfc14/6ff5e/p3-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.58333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABuklEQVQ4y5VTTY+bMBDlx7SqlM8GY4yNIbDha9MsiVLtodpT1UqVeujHpT+fV48TEyDawx6exjx73rwZG2+9Xnfz+RwG3bv3HzCbzbBYLHDlEAQBwjBEFEV2Tftub3CuWy6XWK1WnUeHAs475m/w8uMfdvsz6nKHqq7x2DQoyxJSSjDGLDjnfRERCRuJM3udEAKe+egs4fvdw/NvbPY/wWwCBzeHwytIxIkOQTxpUDRdkMNLRW6w0Xvw4hmxTpBoDd0jRpIkSNPURrdO06R3THAOe+KxLnA+fkL79ITjscXhcDDxiNPphLZt0ZgRVFXVo2lqxHF8L+hEtXG23Wa28tjJxZlzTCJxrOzaXda1ZXjXGVjC9/1+Xm+By79rOc8zW925HuKWbC5M3Lhp9IZElmV9G0On9GyUkvZMGufQ0RZSKCvOg7H4SHA4K7J/E4ygpLLrh7OP4stHJKV57EL2uQ53gtSyUmoiKCGji8PdZ4bqZQOZ+Qh8bl0ORUeCSaJtMl3OdNjE0yi0TCGYaZeFr7fsiDzPURQ7+5CnN+jAAvN3cMJFzMZpyy6JHHz7/hV//v4a/buvYTo/wn+kLs6/FBzGZgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PracticaImg\"\n        title=\"Imagen de la practica\"\n        src=\"/gatsbyjs/static/0fd538edcdf478349014bbe11b9dfc14/36727/p3-1.png\"\n        srcset=\"/gatsbyjs/static/0fd538edcdf478349014bbe11b9dfc14/acf4b/p3-1.png 173w,\n/gatsbyjs/static/0fd538edcdf478349014bbe11b9dfc14/fc834/p3-1.png 345w,\n/gatsbyjs/static/0fd538edcdf478349014bbe11b9dfc14/36727/p3-1.png 690w,\n/gatsbyjs/static/0fd538edcdf478349014bbe11b9dfc14/17fa4/p3-1.png 1035w,\n/gatsbyjs/static/0fd538edcdf478349014bbe11b9dfc14/6ff5e/p3-1.png 1200w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\nLa configuración de thunderbird es sencilla, te registras mediante OAuth2 de manera sencilla y ya puedes acceder a sus prestaciones.</p>\n<ol start=\"2\">\n<li>Añade a la cuenta las opciones de seguridad para poder enviar correos firmados con tu clave privada o cifrar los mensajes para otros destinatarios.</li>\n<li>Envía y recibe varios mensajes con tus compañeros y comprueba el funcionamiento adecuado de GPG.</li>\n</ol>\n<h2 id=\"tarea-3-integridad-de-ficheros-1-punto\"><a href=\"#tarea-3-integridad-de-ficheros-1-punto\" aria-label=\"tarea 3 integridad de ficheros 1 punto permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 3: Integridad de ficheros (1 punto)</h2>\n<p>Vamos a descargarnos la ISO de debian, y posteriormente vamos a comprobar su integridad.</p>\n<p>Puedes encontrar la ISO en la dirección: <a href=\"https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/\">https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Para validar el contenido de la imagen CD, solo asegúrese de usar la herramienta apropiada para sumas de verificación. Para cada versión publicada existen archivos de suma de comprobación con algoritmos fuertes (SHA256 y SHA512); debería usar las herramientas sha256sum o sha512sum para trabajar con ellos.\nVerifica que el contenido del hash que has utilizado no ha sido manipulado, usando la firma digital que encontrarás en el repositorio. Puedes encontrar una guía para realizarlo en este artículo: How to verify an authenticity of downloaded Debian ISO images</code></pre></div>\n<h2 id=\"tarea-4-integridad-y-autenticidad-apt-secure-2-puntos\"><a href=\"#tarea-4-integridad-y-autenticidad-apt-secure-2-puntos\" aria-label=\"tarea 4 integridad y autenticidad apt secure 2 puntos permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 4: Integridad y autenticidad (apt secure) (2 puntos)</h2>\n<p>Cuando nos instalamos un paquete en nuestra distribución linux tenemos que asegurarnos que ese paquete es legítimo. Para conseguir este objetivo se utiliza criptografía asimétrica, y en el caso de Debian a este sistema se llama apt secure. Esto lo debemos tener en cuenta al utilizar los repositorios oficiales. Cuando añadamos nuevos repositorios tendremos que añadir las firmas necesarias para confiar en que los paquetes son legítimos y no han sido modificados.</p>\n<p>Busca información sobre apt secure y responde las siguientes preguntas:</p>\n<p>¿Qué software utiliza apt secure para realizar la criptografía asimétrica?\n¿Para que sirve el comando apt-key? ¿Qué muestra el comando apt-key list?\nEn que fichero se guarda el anillo de claves que guarda la herramienta apt-key?\n¿Qué contiene el archivo Release de un repositorio de paquetes?. ¿Y el archivo Release.gpg?. Puedes ver estos archivos en el repositorio <a href=\"http://ftp.debian.org/debian/dists/Debian10.1/\">http://ftp.debian.org/debian/dists/Debian10.1/</a>. Estos archivos se descargan cuando hacemos un apt update.\nExplica el proceso por el cual el sistema nos asegura que los ficheros que estamos descargando son legítimos.\nañade de forma correcta el repositorio de virtualbox añadiendo la clave pública de virtualbox como se indica en la documentación.</p>\n<h2 id=\"tarea-5-autentificación-ejemplo-ssh-2-puntos\"><a href=\"#tarea-5-autentificaci%C3%B3n-ejemplo-ssh-2-puntos\" aria-label=\"tarea 5 autentificación ejemplo ssh 2 puntos permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea 5: Autentificación: ejemplo SSH (2 puntos)</h2>\n<p>Vamos a estudiar como la criptografía nos ayuda a cifrar las comunicaciones que hacemos utilizando el protocolo ssh, y cómo nos puede servir también para conseguir que un cliente se autentifique contra el servidor. Responde las siguientes cuestiones:</p>\n<p>Explica los pasos que se producen entre el cliente y el servidor para que el protocolo cifre la información que se transmite? ¿Para qué se utiliza la criptografía simétrica? ¿Y la asimétrica?\nExplica los dos métodos principales de autentificación: por contraseña y utilizando un par de claves públicas y privadas.\nEn el cliente para que sirve el contenido que se guarda en el fichero ~/.ssh/know_hosts?</p>\n<p>¿Qué significa este mensaje que aparece la primera vez que nos conectamos a un servidor?</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> $ ssh debian@172.22.200.74\n The authenticity of host &#39;172.22.200.74 (172.22.200.74)&#39; can&#39;t be established.\n ECDSA key fingerprint is SHA256:7ZoNZPCbQTnDso1meVSNoKszn38ZwUI4i6saebbfL4M.\n Are you sure you want to continue connecting (yes/no)? </code></pre></div>\n<p>En ocasiones cuando estamos trabajando en el cloud, y reutilizamos una ip flotante nos aparece este mensaje:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> $ ssh debian@172.22.200.74\n @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n @    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\n @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\n Someone could be eavesdropping on you right now (man-in-the-middle attack)!\n It is also possible that a host key has just been changed.\n The fingerprint for the ECDSA key sent by the remote host is\n SHA256:W05RrybmcnJxD3fbwJOgSNNWATkVftsQl7EzfeKJgNc.\n Please contact your system administrator.\n Add correct host key in /home/jose/.ssh/known_hosts to get rid of this message.\n Offending ECDSA key in /home/jose/.ssh/known_hosts:103\n   remove with:\n   ssh-keygen -f &quot;/home/jose/.ssh/known_hosts&quot; -R &quot;172.22.200.74&quot;\n ECDSA host key for 172.22.200.74 has changed and you have requested strict checking.</code></pre></div>\n<p>¿Qué guardamos y para qué sirve el fichero en el servidor ~/.ssh/authorized_keys?</p>","timeToRead":11,"excerpt":"Práctica: Integridad, firmas y autenticación Tarea 1: Firmas electrónicas (3 puntos) GPG   Manda un documento y la firma electrónica del…","frontmatter":{"title":"Práctica 3: Integridad, firmas y autenticación ","cover":"https://img.icons8.com/ios/452/work.png","date":"2020-11-08T00:00:00.000Z","categories":["Seguridad"],"tags":["Gpg","OpenSSL"]},"fields":{"slug":"/practica-3-integridad-firmas-y-autenticacion","date":"November 07, 2020"}}},"pageContext":{"slug":"/practica-3-integridad-firmas-y-autenticacion","nexttitle":"Configuración de cliente OpenVPN con certificados X.509","nextslug":"/configuracion-de-cliente-open-vpn-con-certificados-x-509","prevtitle":"Práctica 2: rclone - Gestionando nuestro almacenamiento en la nube","prevslug":"/practica-2-rclone-gestionando-nuestro-almacenamiento-en-la-nube"}}}